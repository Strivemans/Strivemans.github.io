<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>mysql复习 | 梁伟杰的代码之旅</title><meta name="author" content="jackCoding"><meta name="copyright" content="jackCoding"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、mysql 基本启动命令 1. mysql 服务启动命令：net start mysql 开启mysql服务、net stop mysql 停止mysql服务 2. 连接mysql 命令：mysql -h 主机名(ip号 默认为127.0.0.1 既本机) -P 端口号(默认 3306) -u 用户名 -p密码 3. 查看 mysql版本（需要进入 mysql 安装目录下的 bin 目录 才能">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql复习">
<meta property="og:url" content="http://example.com/2021/09/21/Java%E5%A4%8D%E4%B9%A0/mysql%E5%A4%8D%E4%B9%A0/index.html">
<meta property="og:site_name" content="梁伟杰的代码之旅">
<meta property="og:description" content="一、mysql 基本启动命令 1. mysql 服务启动命令：net start mysql 开启mysql服务、net stop mysql 停止mysql服务 2. 连接mysql 命令：mysql -h 主机名(ip号 默认为127.0.0.1 既本机) -P 端口号(默认 3306) -u 用户名 -p密码 3. 查看 mysql版本（需要进入 mysql 安装目录下的 bin 目录 才能">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/avator.png">
<meta property="article:published_time" content="2021-09-21T03:57:36.000Z">
<meta property="article:modified_time" content="2023-04-07T03:03:55.545Z">
<meta property="article:author" content="jackCoding">
<meta property="article:tag" content="-Mysql -复习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avator.png"><link rel="shortcut icon" href="/img/icon.png"><link rel="canonical" href="http://example.com/2021/09/21/Java%E5%A4%8D%E4%B9%A0/mysql%E5%A4%8D%E4%B9%A0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'mysql复习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-07 11:03:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="梁伟杰的代码之旅" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avator.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="梁伟杰的代码之旅"><span class="site-name">梁伟杰的代码之旅</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">mysql复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-21T03:57:36.000Z" title="发表于 2021-09-21 11:57:36">2021-09-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-07T03:03:55.545Z" title="更新于 2023-04-07 11:03:55">2023-04-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="mysql复习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="一、mysql-基本启动命令"><a href="#一、mysql-基本启动命令" class="headerlink" title="一、mysql 基本启动命令"></a>一、mysql 基本启动命令</h3><ul>
<li><h4 id="1-mysql-服务启动命令：net-start-mysql-开启mysql服务、net-stop-mysql-停止mysql服务"><a href="#1-mysql-服务启动命令：net-start-mysql-开启mysql服务、net-stop-mysql-停止mysql服务" class="headerlink" title="1. mysql 服务启动命令：net start mysql 开启mysql服务、net stop mysql 停止mysql服务"></a>1. mysql 服务启动命令：net start mysql 开启mysql服务、net stop mysql 停止mysql服务</h4></li>
<li><h4 id="2-连接mysql-命令：mysql-h-主机名-ip号-默认为127-0-0-1-既本机-P-端口号-默认-3306-u-用户名-p密码"><a href="#2-连接mysql-命令：mysql-h-主机名-ip号-默认为127-0-0-1-既本机-P-端口号-默认-3306-u-用户名-p密码" class="headerlink" title="2. 连接mysql 命令：mysql -h 主机名(ip号 默认为127.0.0.1 既本机) -P 端口号(默认 3306) -u 用户名 -p密码"></a>2. 连接mysql 命令：mysql -h 主机名(ip号 默认为127.0.0.1 既本机) -P 端口号(默认 3306) -u 用户名 -p密码</h4></li>
<li><h4 id="3-查看-mysql版本（需要进入-mysql-安装目录下的-bin-目录-才能使用-mysql命令）：-mysql-–version"><a href="#3-查看-mysql版本（需要进入-mysql-安装目录下的-bin-目录-才能使用-mysql命令）：-mysql-–version" class="headerlink" title="3. 查看 mysql版本（需要进入 mysql 安装目录下的 bin 目录 才能使用 mysql命令）： mysql –version"></a>3. 查看 mysql版本（需要进入 mysql 安装目录下的 bin 目录 才能使用 mysql命令）： mysql –version</h4></li>
</ul>
<h3 id="二、mysql-三层结构解析"><a href="#二、mysql-三层结构解析" class="headerlink" title="二、mysql 三层结构解析"></a>二、mysql 三层结构解析</h3><p><img src="/mysql%E4%B8%89%E5%B1%82%E7%BB%93%E6%9E%84.png"></p>
<ul>
<li><h4 id="1-说明：当-开启mysql-服务时，mysql-通过tcp网络的-mysql端口-默认-3306-进行监听。-当客户端-输入mysql命令后，3306端口就会接受到-请求，分析命令，处理操作，最后-返回结果给-客户端。"><a href="#1-说明：当-开启mysql-服务时，mysql-通过tcp网络的-mysql端口-默认-3306-进行监听。-当客户端-输入mysql命令后，3306端口就会接受到-请求，分析命令，处理操作，最后-返回结果给-客户端。" class="headerlink" title="1. 说明：当 开启mysql 服务时，mysql 通过tcp网络的 mysql端口( 默认 3306)  进行监听。 当客户端 输入mysql命令后，3306端口就会接受到 请求，分析命令，处理操作，最后 返回结果给 客户端。"></a>1. 说明：当 开启mysql 服务时，mysql 通过tcp网络的 mysql端口( 默认 3306)  进行监听。 当客户端 输入mysql命令后，3306端口就会接受到 请求，分析命令，处理操作，最后 返回结果给 客户端。</h4></li>
<li><h4 id="2-SQL-语句分类"><a href="#2-SQL-语句分类" class="headerlink" title="2. SQL 语句分类"></a>2. SQL 语句分类</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="/sql%E8%AF%AD%E5%8F%A5%E5%88%86%E7%B1%BB.png"></h4></li>
</ul>
<h3 id="三、操作数据库的命令"><a href="#三、操作数据库的命令" class="headerlink" title="三、操作数据库的命令"></a>三、操作数据库的命令</h3><ul>
<li><h4 id="1-创建数据库："><a href="#1-创建数据库：" class="headerlink" title="1. 创建数据库："></a>1. 创建数据库：</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># if <span class="keyword">not</span> exist: 表示没有数据库名为exam_01的情况下</span><br><span class="line"># <span class="type">character</span> <span class="keyword">set</span>： 设置 数据库编码</span><br><span class="line"># <span class="keyword">collate</span>：设置 校对规则</span><br><span class="line"><span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> exam_01 <span class="type">character</span> <span class="keyword">set</span> utf8 <span class="keyword">collate</span> utf8_bin;</span><br></pre></td></tr></table></figure>

<ul>
<li><h4 id="character-set-指定数据库采用的-字符集。-默认时-utf8"><a href="#character-set-指定数据库采用的-字符集。-默认时-utf8" class="headerlink" title="character set : 指定数据库采用的 字符集。 默认时 utf8"></a>character set : 指定数据库采用的 字符集。 默认时 utf8</h4></li>
<li><h4 id="collate：指定-数据库字符集-的-校对规则。（常用-utf8-bin-区分大小写-、utf8-general-ci-不区分大小写-）"><a href="#collate：指定-数据库字符集-的-校对规则。（常用-utf8-bin-区分大小写-、utf8-general-ci-不区分大小写-）" class="headerlink" title="collate：指定 数据库字符集 的 校对规则。（常用 utf8_bin(区分大小写) 、utf8_general_ci(不区分大小写)）"></a>collate：指定 数据库字符集 的 校对规则。（常用 utf8_bin(区分大小写) 、utf8_general_ci(不区分大小写)）</h4></li>
</ul>
</li>
<li><h4 id="2-查看、删除数据库"><a href="#2-查看、删除数据库" class="headerlink" title="2. 查看、删除数据库"></a>2. 查看、删除数据库</h4><ul>
<li><h4 id="查看数据库：show-database"><a href="#查看数据库：show-database" class="headerlink" title="查看数据库：show database"></a>查看数据库：show database</h4></li>
<li><h4 id="显示数据库创建语句：show-create-databse-数据库名"><a href="#显示数据库创建语句：show-create-databse-数据库名" class="headerlink" title="显示数据库创建语句：show create databse 数据库名"></a>显示数据库创建语句：show create databse 数据库名</h4></li>
<li><h4 id="删除数据库：drop-database-数据库名"><a href="#删除数据库：drop-database-数据库名" class="headerlink" title="删除数据库：drop database 数据库名"></a>删除数据库：drop database 数据库名</h4></li>
<li><h4 id="小知识点：用-起来数据库名，用于避免与关键字矛盾。-如数据库名为create-则可以用-起来"><a href="#小知识点：用-起来数据库名，用于避免与关键字矛盾。-如数据库名为create-则可以用-起来" class="headerlink" title="小知识点：用 \`&#96;\ 起来数据库名，用于避免与关键字矛盾。 如数据库名为create 则可以用 \`&#96;\ 起来"></a>小知识点：用 \`&#96;\ 起来数据库名，用于避免与关键字矛盾。 如数据库名为create 则可以用 \`&#96;\ 起来</h4></li>
</ul>
</li>
<li><h4 id="3-备份恢复数据库"><a href="#3-备份恢复数据库" class="headerlink" title="3. 备份恢复数据库"></a>3. 备份恢复数据库</h4><ul>
<li><h4 id="备份数据库（需要在-DOS-执行-既-命令提示符）：mysqldump-u-用户名-p-B-db1、db2-文件名-sql"><a href="#备份数据库（需要在-DOS-执行-既-命令提示符）：mysqldump-u-用户名-p-B-db1、db2-文件名-sql" class="headerlink" title="备份数据库（需要在 DOS 执行 既 命令提示符）：mysqldump -u 用户名 -p -B db1、db2  &gt; 文件名.sql"></a>备份数据库（需要在 DOS 执行 既 命令提示符）：mysqldump -u 用户名 -p -B db1、db2  &gt; 文件名.sql</h4></li>
<li><h4 id="备份-部分数据库表：mysqldump-u-用户名-p-数据库名-表1-表2-文件名-sql"><a href="#备份-部分数据库表：mysqldump-u-用户名-p-数据库名-表1-表2-文件名-sql" class="headerlink" title="备份 部分数据库表：mysqldump -u 用户名 -p 数据库名 表1 表2 &gt; 文件名.sql"></a>备份 部分数据库表：mysqldump -u 用户名 -p 数据库名 表1 表2 &gt; 文件名.sql</h4></li>
<li><h4 id="恢复数据库（需要在-mysql中运行）：source-文件名-d-xx-sql-sql"><a href="#恢复数据库（需要在-mysql中运行）：source-文件名-d-xx-sql-sql" class="headerlink" title="恢复数据库（需要在 mysql中运行）：source 文件名(d:\\ xx.sql).sql"></a>恢复数据库（需要在 mysql中运行）：source 文件名(d:\\ xx.sql).sql</h4></li>
</ul>
</li>
</ul>
<h3 id="四、创建表"><a href="#四、创建表" class="headerlink" title="四、创建表"></a>四、创建表</h3><ul>
<li><h4 id="1-命令：create-table-表名（field1-dataType-field2-dataTytpe-field3-dataType）character-set-字符集-collate-校对规则-engine-存储引擎-。"><a href="#1-命令：create-table-表名（field1-dataType-field2-dataTytpe-field3-dataType）character-set-字符集-collate-校对规则-engine-存储引擎-。" class="headerlink" title="1. 命令：create table 表名（field1 dataType, field2 dataTytpe,field3 dataType）character set 字符集 collate 校对规则 engine 存储引擎 。"></a>1. 命令：create table 表名（field1 dataType, field2 dataTytpe,field3 dataType）character set 字符集 collate 校对规则 engine 存储引擎 。</h4></li>
<li><h4 id="2-快速创建表：当创建的表与-另一个表的结构相似时，可以使用-like来进行创建"><a href="#2-快速创建表：当创建的表与-另一个表的结构相似时，可以使用-like来进行创建" class="headerlink" title="2. 快速创建表：当创建的表与 另一个表的结构相似时，可以使用 like来进行创建"></a>2. 快速创建表：当创建的表与 另一个表的结构相似时，可以使用 like来进行创建</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_01 <span class="keyword">like</span> emp;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="五、mysql常用的数据类型"><a href="#五、mysql常用的数据类型" class="headerlink" title="五、mysql常用的数据类型"></a>五、mysql常用的数据类型</h3><p> <img src="/mysql%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png"></p>
<ul>
<li><h4 id="1-数值型（整数）的使用"><a href="#1-数值型（整数）的使用" class="headerlink" title="1. 数值型（整数）的使用"></a>1. 数值型（整数）的使用</h4><ul>
<li><h4 id="数据类型包含：bit、tinyint、smallint、int、bigint"><a href="#数据类型包含：bit、tinyint、smallint、int、bigint" class="headerlink" title="数据类型包含：bit、tinyint、smallint、int、bigint"></a>数据类型包含：bit、tinyint、smallint、int、bigint</h4></li>
<li><h4 id="使用规范：在能够满足需求的情况下，尽量选择占用空间小的类型"><a href="#使用规范：在能够满足需求的情况下，尽量选择占用空间小的类型" class="headerlink" title="使用规范：在能够满足需求的情况下，尽量选择占用空间小的类型"></a>使用规范：在能够满足需求的情况下，尽量选择占用空间小的类型</h4></li>
<li><h4 id="数值型-有符号-与-无符号区别。默认是-有符号，-如果需指定无符号-可以使用-unsigned-来指定。"><a href="#数值型-有符号-与-无符号区别。默认是-有符号，-如果需指定无符号-可以使用-unsigned-来指定。" class="headerlink" title="数值型 有符号 与 无符号区别。默认是 有符号， 如果需指定无符号 可以使用 unsigned 来指定。"></a>数值型 有符号 与 无符号区别。默认是 有符号， 如果需指定无符号 可以使用 unsigned 来指定。</h4></li>
<li><h4 id="数值型-bit（位）类型的使用："><a href="#数值型-bit（位）类型的使用：" class="headerlink" title="数值型 bit（位）类型的使用："></a>数值型 bit（位）类型的使用：</h4><ul>
<li><h4 id="bit-字段-是按照-位的方式显示的。-如-bit-5-的大小-等于-二进制的-11111-31"><a href="#bit-字段-是按照-位的方式显示的。-如-bit-5-的大小-等于-二进制的-11111-31" class="headerlink" title="bit 字段 是按照 位的方式显示的。(如 bit(5)  的大小 等于 二进制的 11111 &#x3D; 31)"></a>bit 字段 是按照 位的方式显示的。(如 bit(5)  的大小 等于 二进制的 11111 &#x3D; 31)</h4></li>
<li><h4 id="如果-一个值-只有-0，1-，可以考虑使用-bit-1-，可以节省空间"><a href="#如果-一个值-只有-0，1-，可以考虑使用-bit-1-，可以节省空间" class="headerlink" title="如果 一个值 只有 0，1 ，可以考虑使用 bit(1) ，可以节省空间"></a>如果 一个值 只有 0，1 ，可以考虑使用 bit(1) ，可以节省空间</h4></li>
<li><h4 id="bit-M-M-指定位数-范围-1-64"><a href="#bit-M-M-指定位数-范围-1-64" class="headerlink" title="bit(M) M 指定位数 范围 1~64"></a>bit(M) M 指定位数 范围 1~64</h4></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="2-数值型（小数）的使用"><a href="#2-数值型（小数）的使用" class="headerlink" title="2. 数值型（小数）的使用"></a>2. 数值型（小数）的使用</h4><ul>
<li><h4 id="数据类型包含：float、double、decimal-M-D"><a href="#数据类型包含：float、double、decimal-M-D" class="headerlink" title="数据类型包含：float、double、decimal[M,D]"></a>数据类型包含：float、double、decimal[M,D]</h4></li>
<li><h4 id="详解-decimal-M-D-："><a href="#详解-decimal-M-D-：" class="headerlink" title="详解 decimal[M,D]："></a>详解 decimal[M,D]：</h4><ul>
<li><h4 id="可以支持-更加精确的小数位。M是小数位数的总数-既-小数点前的位数-，D是小数点后面的位数。"><a href="#可以支持-更加精确的小数位。M是小数位数的总数-既-小数点前的位数-，D是小数点后面的位数。" class="headerlink" title="可以支持 更加精确的小数位。M是小数位数的总数( 既 小数点前的位数 )，D是小数点后面的位数。"></a>可以支持 更加精确的小数位。M是小数位数的总数( 既 小数点前的位数 )，D是小数点后面的位数。</h4></li>
<li><h4 id="如果D是0，则值-就没有小数位，就变成了整数。"><a href="#如果D是0，则值-就没有小数位，就变成了整数。" class="headerlink" title="如果D是0，则值 就没有小数位，就变成了整数。"></a>如果D是0，则值 就没有小数位，就变成了整数。</h4></li>
<li><h4 id="M-最大65，D最大-30。-如果-M被省略-则默认为-10，D被省略-则默认为-0。"><a href="#M-最大65，D最大-30。-如果-M被省略-则默认为-10，D被省略-则默认为-0。" class="headerlink" title="M 最大65，D最大 30。 如果 M被省略 则默认为 10，D被省略 则默认为 0。"></a>M 最大65，D最大 30。 如果 M被省略 则默认为 10，D被省略 则默认为 0。</h4></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="3-字符串类型的使用"><a href="#3-字符串类型的使用" class="headerlink" title="3. 字符串类型的使用"></a>3. 字符串类型的使用</h4><ul>
<li><h4 id="数据类型包含：char（固定长度字符串-最大-255字符）、varchar（可变长度字符串-最大-65532-字节）"><a href="#数据类型包含：char（固定长度字符串-最大-255字符）、varchar（可变长度字符串-最大-65532-字节）" class="headerlink" title="数据类型包含：char（固定长度字符串 最大 255字符）、varchar（可变长度字符串 最大 65532 字节）"></a>数据类型包含：char（固定长度字符串 最大 255字符）、varchar（可变长度字符串 最大 65532 字节）</h4></li>
<li><h4 id="使用细节："><a href="#使用细节：" class="headerlink" title="使用细节："></a>使用细节：</h4><ul>
<li><h4 id="char（4）-表示的是字符数-既-位数-，不是字节数-不管中文、字母-都是可以放4个。并且-这是固定长度，即便插入的‘aa’-但还是会占用-4字符的-内存空间。因此可用于-固定长度格式的-类型（如-电话号码、邮箱、身份证号码-等）。"><a href="#char（4）-表示的是字符数-既-位数-，不是字节数-不管中文、字母-都是可以放4个。并且-这是固定长度，即便插入的‘aa’-但还是会占用-4字符的-内存空间。因此可用于-固定长度格式的-类型（如-电话号码、邮箱、身份证号码-等）。" class="headerlink" title="char（4） 表示的是字符数(既 位数 )，不是字节数,不管中文、字母 都是可以放4个。并且 这是固定长度，即便插入的‘aa’ 但还是会占用 4字符的 内存空间。因此可用于 固定长度格式的 类型（如 电话号码、邮箱、身份证号码 等）。"></a>char（4） 表示的是字符数(既 位数 )，不是字节数,不管中文、字母 都是可以放4个。并且 这是固定长度，即便插入的‘aa’ 但还是会占用 4字符的 内存空间。因此可用于 固定长度格式的 类型（如 电话号码、邮箱、身份证号码 等）。</h4></li>
<li><h4 id="varchar-4-也表示字符数，根据表的编码-来-存放数据。按照-实际占用空间来分配。可用于-不确定长度的类型。"><a href="#varchar-4-也表示字符数，根据表的编码-来-存放数据。按照-实际占用空间来分配。可用于-不确定长度的类型。" class="headerlink" title="varchar(4) 也表示字符数，根据表的编码 来 存放数据。按照 实际占用空间来分配。可用于 不确定长度的类型。"></a>varchar(4) 也表示字符数，根据表的编码 来 存放数据。按照 实际占用空间来分配。可用于 不确定长度的类型。</h4></li>
<li><h4 id="查询速度-：-char-varchar"><a href="#查询速度-：-char-varchar" class="headerlink" title="查询速度 ： char &gt; varchar"></a>查询速度 ： char &gt; varchar</h4></li>
<li><h4 id="若是存放-文本，可以使用-text类型。"><a href="#若是存放-文本，可以使用-text类型。" class="headerlink" title="若是存放 文本，可以使用 text类型。"></a>若是存放 文本，可以使用 text类型。</h4></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="4-日期类型的使用"><a href="#4-日期类型的使用" class="headerlink" title="4. 日期类型的使用"></a>4. 日期类型的使用</h4><ul>
<li><h4 id="数据类型包含：date-年-月-日-、datetime-年-月-日-时-分-秒-、timestamp-时间戳"><a href="#数据类型包含：date-年-月-日-、datetime-年-月-日-时-分-秒-、timestamp-时间戳" class="headerlink" title="数据类型包含：date(年 月 日)、datetime(年 月 日 时 分 秒)、timestamp(时间戳)"></a>数据类型包含：date(年 月 日)、datetime(年 月 日 时 分 秒)、timestamp(时间戳)</h4></li>
<li><h4 id="timetamp-详解："><a href="#timetamp-详解：" class="headerlink" title="timetamp 详解："></a>timetamp 详解：</h4><ul>
<li><h4 id="时间戳：-当-表-修改或者添加时，可以自动的更新-当前时间。"><a href="#时间戳：-当-表-修改或者添加时，可以自动的更新-当前时间。" class="headerlink" title="时间戳： 当 表 修改或者添加时，可以自动的更新 当前时间。"></a>时间戳： 当 表 修改或者添加时，可以自动的更新 当前时间。</h4></li>
<li><h4 id="使用："><a href="#使用：" class="headerlink" title="使用："></a>使用：</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_3(</span><br><span class="line">	t1 <span class="type">date</span>,</span><br><span class="line">    t2 datetime,</span><br><span class="line">    # 定义 <span class="type">time</span>  在 表 更新时 修改时间</span><br><span class="line">	`<span class="type">time</span>` <span class="type">timestamp</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">default</span> <span class="built_in">current_timestamp</span> <span class="keyword">on</span> <span class="keyword">update</span> <span class="built_in">current_timestamp</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="六、修改表"><a href="#六、修改表" class="headerlink" title="六、修改表"></a>六、修改表</h3><ul>
<li><h4 id="1-添加列：alter-table-表名-add-列表-列类型-after-列名-用作-新建列-放在-哪个列的后面"><a href="#1-添加列：alter-table-表名-add-列表-列类型-after-列名-用作-新建列-放在-哪个列的后面" class="headerlink" title="1. 添加列：alter table 表名 add 列表 列类型 (after 列名 用作 新建列 放在 哪个列的后面)"></a>1. 添加列：alter table 表名 add 列表 列类型 (after 列名 用作 新建列 放在 哪个列的后面)</h4></li>
<li><h4 id="2-修改列：alter-table-表名-modify-列名-列属性"><a href="#2-修改列：alter-table-表名-modify-列名-列属性" class="headerlink" title="2. 修改列：alter table 表名 modify 列名 列属性"></a>2. 修改列：alter table 表名 modify 列名 列属性</h4></li>
<li><h4 id="3-删除列：alter-table-表名-drop-列名"><a href="#3-删除列：alter-table-表名-drop-列名" class="headerlink" title="3. 删除列：alter table 表名 drop 列名"></a>3. 删除列：alter table 表名 drop 列名</h4></li>
<li><h4 id="4-修改表名：rename-table-表名-to-新表名"><a href="#4-修改表名：rename-table-表名-to-新表名" class="headerlink" title="4. 修改表名：rename table 表名 to 新表名"></a>4. 修改表名：rename table 表名 to 新表名</h4></li>
<li><h4 id="5-修改表字符集：alter-table-表名-character-set-字符集"><a href="#5-修改表字符集：alter-table-表名-character-set-字符集" class="headerlink" title="5. 修改表字符集：alter table 表名 character set 字符集"></a>5. 修改表字符集：alter table 表名 character set 字符集</h4></li>
<li><h4 id="6-查看表结构：desc-表名"><a href="#6-查看表结构：desc-表名" class="headerlink" title="6. 查看表结构：desc 表名"></a>6. 查看表结构：desc 表名</h4></li>
<li><p><strong>7. 修改列名：alter table 表名 change  列名 新列名 数据类型</strong></p>
</li>
<li><p><strong>8. 添加外键约束：alter table 从表(即你要添加外键字段的表) add constraint 外键名 foreign key 从表的(外键字段) references 主表(主键字段);</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table after_sales add constraint `afterAndOrder` foreign key (order_id) references `order`(order_id);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>9. 查看表创建语句（也可以查看外键约束）：SHOW CREATE TABLE &lt;数据表名&gt;;</strong></p>
</li>
<li><p><strong>10. 修改外键约束：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table saler drop foreign key 外键名</span><br></pre></td></tr></table></figure>


</li>
<li></li>
</ul>
<h3 id="七、CRUD-操作表"><a href="#七、CRUD-操作表" class="headerlink" title="七、CRUD 操作表"></a>七、CRUD 操作表</h3><ul>
<li><h4 id="1-insert语句："><a href="#1-insert语句：" class="headerlink" title="1. insert语句："></a>1. insert语句：</h4><ul>
<li><h4 id="使用：insert-into-表名-需要添加数据的列-默认是全列添加-values-输入列的值"><a href="#使用：insert-into-表名-需要添加数据的列-默认是全列添加-values-输入列的值" class="headerlink" title="使用：insert into 表名(需要添加数据的列 默认是全列添加) values(输入列的值)"></a>使用：insert into 表名(需要添加数据的列 默认是全列添加) values(输入列的值)</h4></li>
<li><h4 id="细节：insert-into-表名-列名-values-可以同时添加多条数据"><a href="#细节：insert-into-表名-列名-values-可以同时添加多条数据" class="headerlink" title="细节：insert into 表名(列名) values (),(),() 可以同时添加多条数据"></a>细节：insert into 表名(列名) values (),(),() 可以同时添加多条数据</h4></li>
</ul>
</li>
<li><h4 id="2-update语句"><a href="#2-update语句" class="headerlink" title="2. update语句"></a>2. update语句</h4><ul>
<li><h4 id="使用：update-student-set-name-’jack’-age-15-where-id-1"><a href="#使用：update-student-set-name-’jack’-age-15-where-id-1" class="headerlink" title="使用：update student set name&#x3D;’jack’,age&#x3D;15 where id&#x3D;1"></a>使用：update student set name&#x3D;’jack’,age&#x3D;15 where id&#x3D;1</h4></li>
</ul>
</li>
<li><h4 id="3-delete语句"><a href="#3-delete语句" class="headerlink" title="3. delete语句"></a>3. delete语句</h4><ul>
<li><h4 id="使用：delete-from-student-where-id-1-删除-id-1-的-student表数据-没有where条件-则删除student表全部数据"><a href="#使用：delete-from-student-where-id-1-删除-id-1-的-student表数据-没有where条件-则删除student表全部数据" class="headerlink" title="使用：delete from student where id&#x3D;1;(删除 id&#x3D;1 的 student表数据 没有where条件 则删除student表全部数据)"></a>使用：delete from student where id&#x3D;1;(删除 id&#x3D;1 的 student表数据 没有where条件 则删除student表全部数据)</h4></li>
<li><h4 id="当碰到You-are-using-safe-update-mode-and-you-tried-to-update-a-table-without-a-WHERE-that-uses-a-KEY-column-错误时，可通过-set-sql-safe-updates-0-来修改安全权限"><a href="#当碰到You-are-using-safe-update-mode-and-you-tried-to-update-a-table-without-a-WHERE-that-uses-a-KEY-column-错误时，可通过-set-sql-safe-updates-0-来修改安全权限" class="headerlink" title="当碰到You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column.  错误时，可通过 set sql_safe_updates&#x3D;0; 来修改安全权限"></a>当碰到You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column.  错误时，可通过 set sql_safe_updates&#x3D;0; 来修改安全权限</h4></li>
</ul>
</li>
<li><h4 id="4-select-语句"><a href="#4-select-语句" class="headerlink" title="4. select 语句"></a>4. select 语句</h4><ul>
<li><h4 id="1-使用："><a href="#1-使用：" class="headerlink" title="(1). 使用："></a>(1). 使用：</h4><ul>
<li><h4 id="select-distinct-from-student-（查询student表-不重复的全部数据-distinct表示为-不重复的）"><a href="#select-distinct-from-student-（查询student表-不重复的全部数据-distinct表示为-不重复的）" class="headerlink" title="select distinct * from student; （查询student表 不重复的全部数据 distinct表示为 不重复的）"></a>select distinct * from student; （查询student表 不重复的全部数据 distinct表示为 不重复的）</h4></li>
<li><h4 id="select-age-name-from-student-where-id-1-（仅查询-student表中id为1的-age-name-字段的属性）"><a href="#select-age-name-from-student-where-id-1-（仅查询-student表中id为1的-age-name-字段的属性）" class="headerlink" title="select age,name from student where id&#x3D;1; （仅查询 student表中id为1的 age,name 字段的属性）"></a>select age,name from student where id&#x3D;1; （仅查询 student表中id为1的 age,name 字段的属性）</h4></li>
</ul>
</li>
<li><h4 id="2-使用技巧："><a href="#2-使用技巧：" class="headerlink" title="(2). 使用技巧："></a>(2). 使用技巧：</h4><ul>
<li><h4 id="使用-表达式-对查询的列-进行运算-并且-可以通过-as-关键字-对字段进行-命名"><a href="#使用-表达式-对查询的列-进行运算-并且-可以通过-as-关键字-对字段进行-命名" class="headerlink" title="使用 表达式 对查询的列 进行运算, 并且 可以通过 as 关键字 对字段进行 命名"></a>使用 表达式 对查询的列 进行运算, 并且 可以通过 as 关键字 对字段进行 命名</h4><h4 id="例：select-english-math-as-score-from-student-where-id-1"><a href="#例：select-english-math-as-score-from-student-where-id-1" class="headerlink" title="例：select (english+math) as score from student where id&#x3D;1;"></a>例：select (english+math) as score from student where id&#x3D;1;</h4></li>
<li><h4 id="经常使用的运算符"><a href="#经常使用的运算符" class="headerlink" title="经常使用的运算符"></a>经常使用的运算符</h4><p>![](&#x2F;select 语句经常使用的 运算符.png)</p>
</li>
<li><h4 id="order-by-语句-对查询结果进行排序"><a href="#order-by-语句-对查询结果进行排序" class="headerlink" title="order by 语句 对查询结果进行排序"></a>order by 语句 对查询结果进行排序</h4><h4 id="select-from-student-order-by-math-asc-默认-升序-desc-降序"><a href="#select-from-student-order-by-math-asc-默认-升序-desc-降序" class="headerlink" title="select * from student order by math asc(默认 升序) &#x2F; desc(降序)"></a>select * from student order by math asc(默认 升序) &#x2F; desc(降序)</h4></li>
<li><h4 id="like-语句查询-表示任意字符"><a href="#like-语句查询-表示任意字符" class="headerlink" title="like 语句查询(_:表示任意字符)"></a>like 语句查询(_:表示任意字符)</h4><h4 id="select-from-emp-where-user-name-like-‘-梁-’-查询-名字-第三个字符是-梁的-员工表"><a href="#select-from-emp-where-user-name-like-‘-梁-’-查询-名字-第三个字符是-梁的-员工表" class="headerlink" title="select *from emp where user_name like ‘__梁%’; &#x2F;&#x2F;查询 名字 第三个字符是 梁的 员工表"></a>select *from emp where user_name like ‘__梁%’; &#x2F;&#x2F;查询 名字 第三个字符是 梁的 员工表</h4></li>
<li><h4 id="limit-语句查询"><a href="#limit-语句查询" class="headerlink" title="limit 语句查询"></a>limit 语句查询</h4><h4 id="select-from-student-where-id-limit-5-offset-5-拿到前五个id-从5个开始拿"><a href="#select-from-student-where-id-limit-5-offset-5-拿到前五个id-从5个开始拿" class="headerlink" title="select *from student where id limit 5 offset 5; &#x2F;&#x2F;拿到前五个id 从5个开始拿"></a>select *from student where id limit 5 offset 5; &#x2F;&#x2F;拿到前五个id 从5个开始拿</h4></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="八、函数"><a href="#八、函数" class="headerlink" title="八、函数"></a>八、函数</h3><ul>
<li><h4 id="1-统计函数"><a href="#1-统计函数" class="headerlink" title="(1). 统计函数"></a>(1). 统计函数</h4><ul>
<li><h4 id="1-count（统计、合计）函数：select-count-from-student-where-math-80-查询数学成绩高于80的-学生总数"><a href="#1-count（统计、合计）函数：select-count-from-student-where-math-80-查询数学成绩高于80的-学生总数" class="headerlink" title="1. count（统计、合计）函数：select count(*) from student where math&gt;80  &#x2F;&#x2F; 查询数学成绩高于80的 学生总数"></a>1. count（统计、合计）函数：select count(*) from student where math&gt;80  &#x2F;&#x2F; 查询数学成绩高于80的 学生总数</h4></li>
<li><h4 id="2-sum-合计-主要用于-数值类型-的统计-函数：-select-sum-math-from-student-查询所有学生的-数学总分"><a href="#2-sum-合计-主要用于-数值类型-的统计-函数：-select-sum-math-from-student-查询所有学生的-数学总分" class="headerlink" title="2. sum(合计 主要用于 数值类型 的统计)函数： select sum(math) from student; &#x2F;&#x2F;查询所有学生的 数学总分"></a>2. sum(合计 主要用于 数值类型 的统计)函数： select sum(math) from student; &#x2F;&#x2F;查询所有学生的 数学总分</h4></li>
<li><h4 id="3-avg-统计-平均分-用于数值类型-函数：-select-avg-math-from-student-查询-所有学生数学成绩的-平均分"><a href="#3-avg-统计-平均分-用于数值类型-函数：-select-avg-math-from-student-查询-所有学生数学成绩的-平均分" class="headerlink" title="3. avg(统计 平均分 用于数值类型)函数： select avg(math) from student;  &#x2F;&#x2F;查询 所有学生数学成绩的 平均分"></a>3. avg(统计 平均分 用于数值类型)函数： select avg(math) from student;  &#x2F;&#x2F;查询 所有学生数学成绩的 平均分</h4></li>
<li><h4 id="4-max-得到-最大值，数值类型-函数、min-得到最小值-函数：select-max-math-min-math-from-student-查询学生表的-最大数学成绩-与-最小数学成绩。"><a href="#4-max-得到-最大值，数值类型-函数、min-得到最小值-函数：select-max-math-min-math-from-student-查询学生表的-最大数学成绩-与-最小数学成绩。" class="headerlink" title="4. max(得到 最大值，数值类型) 函数、min(得到最小值)函数：select max(math),min(math) from student; &#x2F;&#x2F;查询学生表的 最大数学成绩 与 最小数学成绩。"></a>4. max(得到 最大值，数值类型) 函数、min(得到最小值)函数：select max(math),min(math) from student; &#x2F;&#x2F;查询学生表的 最大数学成绩 与 最小数学成绩。</h4></li>
</ul>
</li>
<li><h4 id="2-字符串函数"><a href="#2-字符串函数" class="headerlink" title="(2). 字符串函数"></a>(2). 字符串函数</h4><p><img src="/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0.png"></p>
</li>
<li><h4 id="3-日期函数"><a href="#3-日期函数" class="headerlink" title="(3). 日期函数"></a>(3). 日期函数</h4><p><img src="/%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0.png"></p>
<h4 id="last-day（）：返回该日期-所在月份的最后一天的日期-如-last-day-‘2022-10-5’-2022-10-31-。"><a href="#last-day（）：返回该日期-所在月份的最后一天的日期-如-last-day-‘2022-10-5’-2022-10-31-。" class="headerlink" title="last_day（）：返回该日期 所在月份的最后一天的日期 如 last_day(‘2022.10.5’) &#x3D; 2022.10.31 。"></a>last_day（）：返回该日期 所在月份的最后一天的日期 如 last_day(‘2022.10.5’) &#x3D; 2022.10.31 。</h4></li>
<li><h4 id="4-数学相关函数"><a href="#4-数学相关函数" class="headerlink" title="(4). 数学相关函数"></a>(4). 数学相关函数</h4><p><img src="/%E6%95%B0%E5%AD%A6%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0.png"></p>
</li>
<li><h4 id="5-加密与系统函数"><a href="#5-加密与系统函数" class="headerlink" title="(5).  加密与系统函数"></a>(5).  加密与系统函数</h4><p><img src="/%E5%8A%A0%E5%AF%86%E4%B8%8E%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0.png"></p>
</li>
<li><h4 id="6-流程控制函数"><a href="#6-流程控制函数" class="headerlink" title="(6). 流程控制函数"></a>(6). 流程控制函数</h4><p><img src="/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0.png"></p>
</li>
</ul>
<h3 id="九、mysql-表查询加强"><a href="#九、mysql-表查询加强" class="headerlink" title="九、mysql 表查询加强"></a>九、mysql 表查询加强</h3><ul>
<li><h4 id="1-分页查询：select-from-emp-limit-每页显示记录数-第几页-1-每页显示记录数"><a href="#1-分页查询：select-from-emp-limit-每页显示记录数-第几页-1-每页显示记录数" class="headerlink" title="(1). 分页查询：select * from emp limit 每页显示记录数 * (第几页-1),每页显示记录数"></a>(1). 分页查询：select * from emp limit 每页显示记录数 * (第几页-1),每页显示记录数</h4><h4 id="select-from-emp-limit-3-2-3-显示-第3页的-三条数据"><a href="#select-from-emp-limit-3-2-3-显示-第3页的-三条数据" class="headerlink" title="select * from emp limit 3 * 2,3  &#x2F;&#x2F; 显示 第3页的 三条数据"></a>select * from emp limit 3 * 2,3  &#x2F;&#x2F; 显示 第3页的 三条数据</h4></li>
<li><h4 id="2-多子句查询：需要注意-各子句条件的顺序-依次为-group-by-having-order-by-limit"><a href="#2-多子句查询：需要注意-各子句条件的顺序-依次为-group-by-having-order-by-limit" class="headerlink" title="(2). 多子句查询：需要注意 各子句条件的顺序 依次为 group by-&gt; having-&gt; order by-&gt; limit"></a>(2). 多子句查询：需要注意 各子句条件的顺序 依次为 group by-&gt; having-&gt; order by-&gt; limit</h4><h4 id="select-avg-sal-as-avgfrom-emp-group-by-deptno-havingavg-1000-order-by-avg-desc-limit-0-2"><a href="#select-avg-sal-as-avgfrom-emp-group-by-deptno-havingavg-1000-order-by-avg-desc-limit-0-2" class="headerlink" title="select avg(sal) as avgfrom emp group by deptno  havingavg&gt;1000  order by avg desc limit 0,2;"></a><code>select avg(sal) as </code>avg<code>from emp group by deptno  having</code>avg<code>&gt;1000  order by </code>avg<code> desc limit 0,2;</code></h4></li>
<li><h4 id="3-多表查询"><a href="#3-多表查询" class="headerlink" title="(3). 多表查询"></a>(3). 多表查询</h4><ul>
<li><h5 id="笛卡尔集：当进行多表查询（起码查询2个或以上的表）时，如果没有添加条件语句下，mysql会自动以-第一个表中，取出一行-去与-第二张表中的每一行进行组合。这样查询出来的结果-就叫-笛卡尔集。如-1表有3行数据-2表有4行数据-，笛卡尔查询后-有-12条数据。"><a href="#笛卡尔集：当进行多表查询（起码查询2个或以上的表）时，如果没有添加条件语句下，mysql会自动以-第一个表中，取出一行-去与-第二张表中的每一行进行组合。这样查询出来的结果-就叫-笛卡尔集。如-1表有3行数据-2表有4行数据-，笛卡尔查询后-有-12条数据。" class="headerlink" title="笛卡尔集：当进行多表查询（起码查询2个或以上的表）时，如果没有添加条件语句下，mysql会自动以 第一个表中，取出一行 去与 第二张表中的每一行进行组合。这样查询出来的结果 就叫 笛卡尔集。如 1表有3行数据 2表有4行数据 ，笛卡尔查询后 有 12条数据。"></a>笛卡尔集：当进行多表查询（起码查询2个或以上的表）时，如果没有添加条件语句下，mysql会自动以 第一个表中，取出一行 去与 第二张表中的每一行进行组合。这样查询出来的结果 就叫 笛卡尔集。如 1表有3行数据 2表有4行数据 ，笛卡尔查询后 有 12条数据。</h5></li>
<li><h5 id="多表查询语句：select-ename-sal-dname-from-emp-dept-where-emp-deptno-dept-deptno"><a href="#多表查询语句：select-ename-sal-dname-from-emp-dept-where-emp-deptno-dept-deptno" class="headerlink" title="多表查询语句：select ename,sal,dname from emp,dept where emp.deptno&#x3D;dept.deptno;"></a>多表查询语句：select ename,sal,dname from emp,dept where emp.deptno&#x3D;dept.deptno;</h5></li>
<li><h5 id="自连接：把一张表-当成两张表使用-通常运用与-行与行之间的联动"><a href="#自连接：把一张表-当成两张表使用-通常运用与-行与行之间的联动" class="headerlink" title="自连接：把一张表 当成两张表使用 通常运用与 行与行之间的联动"></a>自连接：把一张表 当成两张表使用 通常运用与 行与行之间的联动</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># <span class="number">1.</span>显示公司员工名字和他的上级的名字</span><br><span class="line"><span class="keyword">select</span> worker.ename,manger.ename <span class="keyword">from</span> emp worker,emp  manger <span class="keyword">where</span> worker.mgr<span class="operator">=</span>manger.empno;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><h4 id="4-子查询"><a href="#4-子查询" class="headerlink" title="(4). 子查询"></a>(4). 子查询</h4><ul>
<li><h4 id="含义：指-嵌入在其它sql语句中的-select语句。"><a href="#含义：指-嵌入在其它sql语句中的-select语句。" class="headerlink" title="含义：指 嵌入在其它sql语句中的 select语句。"></a>含义：指 嵌入在其它sql语句中的 select语句。</h4></li>
<li><h4 id="单行子查询：只返回一行数据的子查询语句"><a href="#单行子查询：只返回一行数据的子查询语句" class="headerlink" title="单行子查询：只返回一行数据的子查询语句"></a>单行子查询：只返回一行数据的子查询语句</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#<span class="number">1.</span> 显示与ALLEN同一部门的所有员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span>(<span class="keyword">select</span> <span class="keyword">distinct</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;ALLEN&#x27;</span>);</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="多行子查询：返回多行数据的子查询，可以使用关键字-in"><a href="#多行子查询：返回多行数据的子查询，可以使用关键字-in" class="headerlink" title="多行子查询：返回多行数据的子查询，可以使用关键字 in"></a>多行子查询：返回多行数据的子查询，可以使用关键字 in</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#查询和部门<span class="number">10</span>的工作相同的雇员的</span><br><span class="line"><span class="comment">-- 名字、岗位、工资、部门号, 但是不含10号部门自己的雇员.</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ename,job,sal,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="keyword">in</span>(<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">10</span>) <span class="keyword">and</span> deptno <span class="operator">!=</span><span class="number">10</span>;</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="关键字all-指代所有数据-、any-指代-任意一个-的使用"><a href="#关键字all-指代所有数据-、any-指代-任意一个-的使用" class="headerlink" title="关键字all(指代所有数据)、any(指代 任意一个)的使用"></a>关键字all(指代所有数据)、any(指代 任意一个)的使用</h4><h5 id="两个关键字也是针对-多行数据来进行-条件筛选"><a href="#两个关键字也是针对-多行数据来进行-条件筛选" class="headerlink" title="两个关键字也是针对 多行数据来进行 条件筛选"></a>两个关键字也是针对 多行数据来进行 条件筛选</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#关键字 <span class="keyword">all</span>、<span class="keyword">any</span>的使用</span><br><span class="line">#<span class="number">1.</span> 显示工资比部门<span class="number">30</span>的所有员工的工资高的员工的姓名、工资和部门号</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ename,sal,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="keyword">all</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br><span class="line">#<span class="number">2.</span> 显示工资比部门<span class="number">30</span>的其中一个员工的工资高的员工的姓名、工资和部门号</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ename,sal,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="keyword">any</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="子查询作为临时表"><a href="#子查询作为临时表" class="headerlink" title="子查询作为临时表"></a>子查询作为临时表</h4><h5 id="通常面对复杂的查询时，需要让子查询作为一个临时表来-进行多表查询"><a href="#通常面对复杂的查询时，需要让子查询作为一个临时表来-进行多表查询" class="headerlink" title="通常面对复杂的查询时，需要让子查询作为一个临时表来 进行多表查询"></a>通常面对复杂的查询时，需要让子查询作为一个临时表来 进行多表查询</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#把子查询作为临时表来使用</span><br><span class="line">#<span class="number">1.</span> 查询ecshop中各个类别中，价格最高的商品</span><br><span class="line">use ecshop;</span><br><span class="line">#先查询 各个类别 价格最高的价格 </span><br><span class="line"><span class="keyword">select</span> cat_id,<span class="built_in">max</span>(shop_price) <span class="keyword">from</span> ecs_goods <span class="keyword">group</span> <span class="keyword">by</span> cat_id;</span><br><span class="line"># 把子查询作为临时表 来 查询</span><br><span class="line"><span class="keyword">select</span> goods_id,temp.cat_id,goods_name,shop_price <span class="keyword">from</span> </span><br><span class="line">	(<span class="keyword">select</span> cat_id,<span class="built_in">max</span>(shop_price) <span class="keyword">as</span> max_price <span class="keyword">from</span> ecs_goods <span class="keyword">group</span> <span class="keyword">by</span> cat_id) <span class="keyword">as</span> temp,ecs_goods</span><br><span class="line">    <span class="keyword">where</span> temp.cat_id<span class="operator">=</span>ecs_goods.cat_id <span class="keyword">and</span> shop_price<span class="operator">=</span>max_price;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><h4 id="5-合并查询"><a href="#5-合并查询" class="headerlink" title="(5). 合并查询"></a>(5). 合并查询</h4><ul>
<li><h4 id="含义：当需要将两条查询语句的结果-进行合并时，可以使用关键字-union、unnion-all"><a href="#含义：当需要将两条查询语句的结果-进行合并时，可以使用关键字-union、unnion-all" class="headerlink" title="含义：当需要将两条查询语句的结果 进行合并时，可以使用关键字 union、unnion all"></a>含义：当需要将两条查询语句的结果 进行合并时，可以使用关键字 union、unnion all</h4></li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#<span class="number">1.</span> <span class="keyword">union</span> <span class="keyword">all</span> 连接两条查询语句 （不会去重）</span><br><span class="line"><span class="keyword">select</span> job,ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="number">2500</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> job,ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">#<span class="number">2.</span> <span class="keyword">union</span> 会去重</span><br><span class="line"><span class="keyword">select</span> job,ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="number">2500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> job,ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;MANAGER&#x27;</span>;</span><br></pre></td></tr></table></figure>


</li>
<li></li>
</ul>
<h3 id="十、表复制与去重"><a href="#十、表复制与去重" class="headerlink" title="十、表复制与去重"></a>十、表复制与去重</h3><ul>
<li><h4 id="含义：当需要针对sql语句进行效率测试时，需要有一个大量数据的表进行测试，这是就可以使用表复制。此外，也可以用于一个表-对另一个表的-快速赋值"><a href="#含义：当需要针对sql语句进行效率测试时，需要有一个大量数据的表进行测试，这是就可以使用表复制。此外，也可以用于一个表-对另一个表的-快速赋值" class="headerlink" title="含义：当需要针对sql语句进行效率测试时，需要有一个大量数据的表进行测试，这是就可以使用表复制。此外，也可以用于一个表 对另一个表的 快速赋值"></a>含义：当需要针对sql语句进行效率测试时，需要有一个大量数据的表进行测试，这是就可以使用表复制。此外，也可以用于一个表 对另一个表的 快速赋值</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#进行表复制</span><br><span class="line">#直接在表名后 进行<span class="keyword">select</span>语句 即可对表进行复制 </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tab_01 <span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line">#自我复制</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tab_01 <span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> tab_01;</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="去重：当表中-存在-大量的重复数据时，可以进行去重处理"><a href="#去重：当表中-存在-大量的重复数据时，可以进行去重处理" class="headerlink" title="去重：当表中 存在 大量的重复数据时，可以进行去重处理"></a>去重：当表中 存在 大量的重复数据时，可以进行去重处理</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#演示去重 既对表中一样的数据进行删除</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tab_02 <span class="keyword">like</span> tab_01; #<span class="number">1.</span> 创建一个临时表</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tab_02 <span class="keyword">select</span> <span class="keyword">distinct</span> <span class="operator">*</span><span class="keyword">from</span> tab_01; #<span class="number">2.</span> 对tab_01 进行去重复制</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> tab_01; #<span class="number">3.</span> 删除tab_01 原有数据 </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tab_01 <span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> tab_02; #<span class="number">4.</span> 将临时表tab_02中的数据 复制都 tab_01</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> tab_02; #<span class="number">5.</span> 删除临时表 </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="十一、外连接"><a href="#十一、外连接" class="headerlink" title="十一、外连接"></a>十一、外连接</h3><ul>
<li><h4 id="含义：当进行多表查询时，若需要两表-其中一表-不需要符合-两表匹配条件-也能显示-则可以使用-外连接"><a href="#含义：当进行多表查询时，若需要两表-其中一表-不需要符合-两表匹配条件-也能显示-则可以使用-外连接" class="headerlink" title="含义：当进行多表查询时，若需要两表 其中一表 不需要符合 两表匹配条件 也能显示 则可以使用 外连接"></a>含义：当进行多表查询时，若需要两表 其中一表 不需要符合 两表匹配条件 也能显示 则可以使用 外连接</h4></li>
<li><h4 id="分类：左连接（左表完全显示）、右连接（右表完全显示）"><a href="#分类：左连接（左表完全显示）、右连接（右表完全显示）" class="headerlink" title="分类：左连接（左表完全显示）、右连接（右表完全显示）"></a>分类：左连接（左表完全显示）、右连接（右表完全显示）</h4></li>
<li><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#<span class="number">1.</span> 列出部门名称和这些部门的员工名称和工作，</span><br><span class="line"><span class="comment">-- 同时要求 显示出那些没有员工的部门。</span></span><br><span class="line"># 左外连接实现</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ename,dname,job <span class="keyword">from</span> dept <span class="keyword">left</span> <span class="keyword">join</span> emp <span class="keyword">on</span> emp.deptno<span class="operator">=</span>dept.deptno;</span><br><span class="line">#右外连接实现 </span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ename,dname,job <span class="keyword">from</span> emp <span class="keyword">right</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.deptno<span class="operator">=</span>dept.deptno;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="十二、mysql约束"><a href="#十二、mysql约束" class="headerlink" title="十二、mysql约束"></a>十二、mysql约束</h3><ul>
<li><h4 id="1-primary-key-主键"><a href="#1-primary-key-主键" class="headerlink" title="(1).  primary key 主键"></a>(1).  primary key 主键</h4><ul>
<li><h4 id="用处：用于唯一表示-表行的数据，当定义主键约束后，该列不能重复。既该列的数据，不能有重复数据。"><a href="#用处：用于唯一表示-表行的数据，当定义主键约束后，该列不能重复。既该列的数据，不能有重复数据。" class="headerlink" title="用处：用于唯一表示 表行的数据，当定义主键约束后，该列不能重复。既该列的数据，不能有重复数据。"></a>用处：用于唯一表示 表行的数据，当定义主键约束后，该列不能重复。既该列的数据，不能有重复数据。</h4></li>
<li><h4 id="用处细节："><a href="#用处细节：" class="headerlink" title="用处细节："></a>用处细节：</h4><ul>
<li><h4 id="primary-key-主键-不能重复而且不能为-null"><a href="#primary-key-主键-不能重复而且不能为-null" class="headerlink" title="primary key 主键 不能重复而且不能为 null"></a>primary key 主键 不能重复而且不能为 null</h4></li>
<li><h4 id="一张表-最多只能有一个主键。但可以存在-复合主键"><a href="#一张表-最多只能有一个主键。但可以存在-复合主键" class="headerlink" title="一张表 最多只能有一个主键。但可以存在 复合主键"></a>一张表 最多只能有一个主键。但可以存在 复合主键</h4></li>
<li><h4 id="可以使用-desc-来查看表结构，其中就可以查看-主键信息"><a href="#可以使用-desc-来查看表结构，其中就可以查看-主键信息" class="headerlink" title="可以使用 desc 来查看表结构，其中就可以查看 主键信息"></a>可以使用 desc 来查看表结构，其中就可以查看 主键信息</h4></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="2-not-null（非空约束）与-unique（唯一约束）"><a href="#2-not-null（非空约束）与-unique（唯一约束）" class="headerlink" title="(2). not null（非空约束）与 unique（唯一约束）"></a>(2). not null（非空约束）与 unique（唯一约束）</h4><ul>
<li><h4 id="用处：被-not-null-约束的字段，数据不能为-null。-而被-nuique-约束的字段-则-数据不能重复。"><a href="#用处：被-not-null-约束的字段，数据不能为-null。-而被-nuique-约束的字段-则-数据不能重复。" class="headerlink" title="用处：被 not null 约束的字段，数据不能为 null。 而被 nuique 约束的字段 则 数据不能重复。"></a>用处：被 not null 约束的字段，数据不能为 null。 而被 nuique 约束的字段 则 数据不能重复。</h4></li>
<li><h4 id="使用细节：-1"><a href="#使用细节：-1" class="headerlink" title="使用细节："></a>使用细节：</h4><ul>
<li><h4 id="如果没有指定-not-null，则-unique-字段-可以有多个-null值-既空值。"><a href="#如果没有指定-not-null，则-unique-字段-可以有多个-null值-既空值。" class="headerlink" title="如果没有指定 not null，则 unique 字段 可以有多个 null值 既空值。"></a>如果没有指定 not null，则 unique 字段 可以有多个 null值 既空值。</h4></li>
<li><h4 id="一张表-可以有多个-unique-字段。"><a href="#一张表-可以有多个-unique-字段。" class="headerlink" title="一张表 可以有多个 unique 字段。"></a>一张表 可以有多个 unique 字段。</h4></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="3-foreign-key（外键）"><a href="#3-foreign-key（外键）" class="headerlink" title="(3). foreign key（外键）"></a>(3). foreign key（外键）</h4><ul>
<li><h4 id="用处：当-一张表中其中一个字段（从表）-需要与-另一张表的字段（主表）-进行关联-以此来进行-两表之间进行多表查询。"><a href="#用处：当-一张表中其中一个字段（从表）-需要与-另一张表的字段（主表）-进行关联-以此来进行-两表之间进行多表查询。" class="headerlink" title="用处：当 一张表中其中一个字段（从表） 需要与 另一张表的字段（主表） 进行关联 以此来进行 两表之间进行多表查询。"></a>用处：当 一张表中其中一个字段（从表） 需要与 另一张表的字段（主表） 进行关联 以此来进行 两表之间进行多表查询。</h4><h4 id="这样-就需要-用外键来-对从表的-关联字段-进行-与主表的其中一个字段-进行-外键约束。"><a href="#这样-就需要-用外键来-对从表的-关联字段-进行-与主表的其中一个字段-进行-外键约束。" class="headerlink" title="这样 就需要 用外键来 对从表的 关联字段 进行 与主表的其中一个字段 进行 外键约束。"></a>这样 就需要 用外键来 对从表的 关联字段 进行 与主表的其中一个字段 进行 外键约束。</h4></li>
<li><h4 id="用法：-foreign-key-本字段名-references-主表名"><a href="#用法：-foreign-key-本字段名-references-主表名" class="headerlink" title="用法： foreign key (本字段名) references 主表名"></a>用法： foreign key (本字段名) references 主表名</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#主表</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> class(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    class_name <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#从表</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    class_id <span class="type">int</span>,</span><br><span class="line">    #定义外键约束</span><br><span class="line">    <span class="keyword">foreign</span> key (class_id) <span class="keyword">references</span> class(id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="使用细节：-2"><a href="#使用细节：-2" class="headerlink" title="使用细节："></a>使用细节：</h4><ul>
<li><h4 id="外键-指向的表字段-要求必须是-primary-key-或是-unique-字段。既要避免-该字段是-可重复数据的字段"><a href="#外键-指向的表字段-要求必须是-primary-key-或是-unique-字段。既要避免-该字段是-可重复数据的字段" class="headerlink" title="外键 指向的表字段 要求必须是 primary key 或是 unique 字段。既要避免 该字段是 可重复数据的字段"></a>外键 指向的表字段 要求必须是 primary key 或是 unique 字段。既要避免 该字段是 可重复数据的字段</h4></li>
<li><h4 id="表的类型-是-innodb，这样的表-才能支持-外键"><a href="#表的类型-是-innodb，这样的表-才能支持-外键" class="headerlink" title="表的类型 是 innodb，这样的表 才能支持 外键"></a>表的类型 是 innodb，这样的表 才能支持 外键</h4></li>
<li><h4 id="外键字段的类型-要与-主键字段的类型-一样。（长度可以是不一样）"><a href="#外键字段的类型-要与-主键字段的类型-一样。（长度可以是不一样）" class="headerlink" title="外键字段的类型 要与 主键字段的类型 一样。（长度可以是不一样）"></a>外键字段的类型 要与 主键字段的类型 一样。（长度可以是不一样）</h4></li>
<li><h4 id="外键字段的值，必须在主键字段中出现过，或者为null值。"><a href="#外键字段的值，必须在主键字段中出现过，或者为null值。" class="headerlink" title="外键字段的值，必须在主键字段中出现过，或者为null值。"></a>外键字段的值，必须在主键字段中出现过，或者为null值。</h4></li>
<li><h4 id="一旦建立了主外键联系，主表的该主键属性-就不能随意删除。"><a href="#一旦建立了主外键联系，主表的该主键属性-就不能随意删除。" class="headerlink" title="一旦建立了主外键联系，主表的该主键属性 就不能随意删除。"></a>一旦建立了主外键联系，主表的该主键属性 就不能随意删除。</h4></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="4-check-约束"><a href="#4-check-约束" class="headerlink" title="(4). check 约束"></a>(4). check 约束</h4><ul>
<li><h4 id="用处：可以让-约束字段的数据-需要符合该-check约束的条件才能添加成功。"><a href="#用处：可以让-约束字段的数据-需要符合该-check约束的条件才能添加成功。" class="headerlink" title="用处：可以让 约束字段的数据 需要符合该 check约束的条件才能添加成功。"></a>用处：可以让 约束字段的数据 需要符合该 check约束的条件才能添加成功。</h4></li>
<li><h4 id="用法："><a href="#用法：" class="headerlink" title="用法："></a>用法：</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> exma(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    sex <span class="type">varchar</span>(<span class="number">6</span>) <span class="keyword">check</span> (sex <span class="keyword">in</span>(<span class="string">&#x27;man&#x27;</span>,<span class="string">&#x27;woman&#x27;</span>)), #<span class="keyword">check</span> 对数据进行 筛选</span><br><span class="line">    sal <span class="keyword">double</span> <span class="keyword">check</span> (sal<span class="operator">&gt;</span><span class="number">1000</span> <span class="keyword">and</span> sal<span class="operator">&lt;</span><span class="number">2000</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="注意：mysql5-7-不支持-check语法，但-oracle-与-sqlServer-数据库-支持。"><a href="#注意：mysql5-7-不支持-check语法，但-oracle-与-sqlServer-数据库-支持。" class="headerlink" title="注意：mysql5.7 不支持 check语法，但 oracle 与 sqlServer 数据库 支持。"></a>注意：mysql5.7 不支持 check语法，但 oracle 与 sqlServer 数据库 支持。</h4></li>
</ul>
</li>
<li><h4 id="5-自增长"><a href="#5-自增长" class="headerlink" title="(5). 自增长"></a>(5). 自增长</h4><ul>
<li><h4 id="用处：当定义一个-id列时，我们希望它能够-在添加数据时，自动增长数值，不需要人为添加。这时就可以-把id-设置为-自增长。"><a href="#用处：当定义一个-id列时，我们希望它能够-在添加数据时，自动增长数值，不需要人为添加。这时就可以-把id-设置为-自增长。" class="headerlink" title="用处：当定义一个 id列时，我们希望它能够 在添加数据时，自动增长数值，不需要人为添加。这时就可以 把id 设置为 自增长。"></a>用处：当定义一个 id列时，我们希望它能够 在添加数据时，自动增长数值，不需要人为添加。这时就可以 把id 设置为 自增长。</h4></li>
<li><h4 id="用法：-1"><a href="#用法：-1" class="headerlink" title="用法："></a>用法：</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment #默认从<span class="number">1</span> 开始增长</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="使用细节：-3"><a href="#使用细节：-3" class="headerlink" title="使用细节："></a>使用细节：</h4><ul>
<li><h4 id="一般来说，自增长是配合-primary-key-使用的。"><a href="#一般来说，自增长是配合-primary-key-使用的。" class="headerlink" title="一般来说，自增长是配合 primary key 使用的。"></a>一般来说，自增长是配合 primary key 使用的。</h4></li>
<li><h4 id="如果-想要自增长单独使用，则需要配合-unique-使用。既-避免-自增长字段-数据重复。"><a href="#如果-想要自增长单独使用，则需要配合-unique-使用。既-避免-自增长字段-数据重复。" class="headerlink" title="如果 想要自增长单独使用，则需要配合 unique 使用。既 避免 自增长字段 数据重复。"></a>如果 想要自增长单独使用，则需要配合 unique 使用。既 避免 自增长字段 数据重复。</h4></li>
<li><h4 id="自增长的-字段-通常为-整数型。"><a href="#自增长的-字段-通常为-整数型。" class="headerlink" title="自增长的 字段 通常为 整数型。"></a>自增长的 字段 通常为 整数型。</h4></li>
<li><h4 id="自增长-默认从1开始，当然-可以通过-alter-table-表名-auto-increment-xxx-来修改自增长的-起始值"><a href="#自增长-默认从1开始，当然-可以通过-alter-table-表名-auto-increment-xxx-来修改自增长的-起始值" class="headerlink" title="自增长 默认从1开始，当然 可以通过 alter table 表名 auto_increment &#x3D;xxx; 来修改自增长的 起始值"></a>自增长 默认从1开始，当然 可以通过 alter table 表名 auto_increment &#x3D;xxx; 来修改自增长的 起始值</h4></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="十三、索引"><a href="#十三、索引" class="headerlink" title="十三、索引"></a>十三、索引</h3><ul>
<li><h4 id="1-用处：当面对数据很多的情况下，需要查找其中一条数据-效率是非常慢的。这时候-就可以使用索引-来对-查询条件对应的列来-添加索引（如-where-id-45-给-id添加索引），以此来提升查询效率。"><a href="#1-用处：当面对数据很多的情况下，需要查找其中一条数据-效率是非常慢的。这时候-就可以使用索引-来对-查询条件对应的列来-添加索引（如-where-id-45-给-id添加索引），以此来提升查询效率。" class="headerlink" title="(1) 用处：当面对数据很多的情况下，需要查找其中一条数据 效率是非常慢的。这时候 就可以使用索引 来对 查询条件对应的列来 添加索引（如 where id&#x3D;45,给 id添加索引），以此来提升查询效率。"></a>(1) 用处：当面对数据很多的情况下，需要查找其中一条数据 效率是非常慢的。这时候 就可以使用索引 来对 查询条件对应的列来 添加索引（如 where id&#x3D;45,给 id添加索引），以此来提升查询效率。</h4></li>
<li><h4 id="2-机制（解决三个问题）"><a href="#2-机制（解决三个问题）" class="headerlink" title="(2)  机制（解决三个问题）"></a>(2)  机制（解决三个问题）</h4><ul>
<li><h4 id="1-没有索引-为什么会慢？：-正常情况下，如果要查询某条语句，mysql是-全表扫面查询的（既-一条一条的查询）。这样就会效率很慢，即使-被查询的数据-第一条就符合条件-依然会-全表遍历查询。"><a href="#1-没有索引-为什么会慢？：-正常情况下，如果要查询某条语句，mysql是-全表扫面查询的（既-一条一条的查询）。这样就会效率很慢，即使-被查询的数据-第一条就符合条件-依然会-全表遍历查询。" class="headerlink" title="1. 没有索引 为什么会慢？： 正常情况下，如果要查询某条语句，mysql是 全表扫面查询的（既 一条一条的查询）。这样就会效率很慢，即使 被查询的数据 第一条就符合条件 依然会 全表遍历查询。"></a>1. 没有索引 为什么会慢？： 正常情况下，如果要查询某条语句，mysql是 全表扫面查询的（既 一条一条的查询）。这样就会效率很慢，即使 被查询的数据 第一条就符合条件 依然会 全表遍历查询。</h4></li>
<li><h4 id="2-使用索引-为什么变快？：-在使用索引的情况下，会对-添加索引的列-进行-数据结构化的处理-如-进行-二叉树的索引、B-树等-便于查询-的数据结构。这样-自然会增加查询的效率。"><a href="#2-使用索引-为什么变快？：-在使用索引的情况下，会对-添加索引的列-进行-数据结构化的处理-如-进行-二叉树的索引、B-树等-便于查询-的数据结构。这样-自然会增加查询的效率。" class="headerlink" title="2. 使用索引 为什么变快？： 在使用索引的情况下，会对 添加索引的列 进行 数据结构化的处理 如 进行 二叉树的索引、B+树等 便于查询 的数据结构。这样 自然会增加查询的效率。"></a>2. 使用索引 为什么变快？： 在使用索引的情况下，会对 添加索引的列 进行 数据结构化的处理 如 进行 二叉树的索引、B+树等 便于查询 的数据结构。这样 自然会增加查询的效率。</h4></li>
<li><h4 id="3-使用索引的代价：-其一，会对表的空间增大，一定程度上加大了磁盘的占用。-其二，会对dml-insert、update、delete-语句-的效率有所影响。因为，每次修改表数据，都需要去维护-索引的数据结构。"><a href="#3-使用索引的代价：-其一，会对表的空间增大，一定程度上加大了磁盘的占用。-其二，会对dml-insert、update、delete-语句-的效率有所影响。因为，每次修改表数据，都需要去维护-索引的数据结构。" class="headerlink" title="3. 使用索引的代价： 其一，会对表的空间增大，一定程度上加大了磁盘的占用。 其二，会对dml(insert、update、delete) 语句 的效率有所影响。因为，每次修改表数据，都需要去维护 索引的数据结构。"></a>3. 使用索引的代价： 其一，会对表的空间增大，一定程度上加大了磁盘的占用。 其二，会对dml(insert、update、delete) 语句 的效率有所影响。因为，每次修改表数据，都需要去维护 索引的数据结构。</h4></li>
</ul>
</li>
<li><h4 id="3-索引的分类"><a href="#3-索引的分类" class="headerlink" title="(3) 索引的分类"></a>(3) 索引的分类</h4><ul>
<li><h4 id="主键索引-primary-key-：既-把列设置为主键，会自动的定义于-创建了-主索引-primary-key"><a href="#主键索引-primary-key-：既-把列设置为主键，会自动的定义于-创建了-主索引-primary-key" class="headerlink" title="主键索引(primary key)：既 把列设置为主键，会自动的定义于 创建了 主索引(primary key)"></a>主键索引(primary key)：既 把列设置为主键，会自动的定义于 创建了 主索引(primary key)</h4></li>
<li><h4 id="唯一索引-unique-：添加该索引，则-该列的值-必须是唯一，不能重复"><a href="#唯一索引-unique-：添加该索引，则-该列的值-必须是唯一，不能重复" class="headerlink" title="唯一索引(unique)：添加该索引，则 该列的值 必须是唯一，不能重复"></a>唯一索引(unique)：添加该索引，则 该列的值 必须是唯一，不能重复</h4></li>
<li><h4 id="普通索引-index-：既正常的-对该列-进行索引。没啥约束条件"><a href="#普通索引-index-：既正常的-对该列-进行索引。没啥约束条件" class="headerlink" title="普通索引(index)：既正常的 对该列 进行索引。没啥约束条件"></a>普通索引(index)：既正常的 对该列 进行索引。没啥约束条件</h4></li>
<li><h4 id="全文索引-fulltext-：适用于MyIsam-数据库引擎-少用"><a href="#全文索引-fulltext-：适用于MyIsam-数据库引擎-少用" class="headerlink" title="全文索引(fulltext)：适用于MyIsam 数据库引擎(少用)"></a>全文索引(fulltext)：适用于MyIsam 数据库引擎(少用)</h4></li>
</ul>
</li>
<li><h4 id="4-索引的使用"><a href="#4-索引的使用" class="headerlink" title="(4) 索引的使用"></a>(4) 索引的使用</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#演示索引</span><br><span class="line">use exam_01;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> exma;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> exam(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#添加索引</span><br><span class="line">#<span class="number">1.</span> 添加唯一索引</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index id_index <span class="keyword">on</span> exam(id);</span><br><span class="line"><span class="keyword">show</span> indexes <span class="keyword">from</span> exam;</span><br><span class="line">#<span class="number">2.</span> 添加普通索引</span><br><span class="line"><span class="keyword">create</span> index name_index <span class="keyword">on</span> exam(age); #方式<span class="number">1</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> exam_02 <span class="keyword">add</span> index id_index (id); #方式<span class="number">2</span></span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span> 如何选择 是添加 唯一索引 还是 普通索引</span><br><span class="line">#当 该列被要求不能够重复数据出来的 则用 唯一索引，反之亦然</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> exam_02(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line">#<span class="number">4.</span> 添加主键索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> exam_02 <span class="keyword">add</span> <span class="keyword">primary</span> key (`name`);</span><br><span class="line"></span><br><span class="line">#删除索引</span><br><span class="line"><span class="keyword">drop</span> index id_index <span class="keyword">on</span> exam_02;</span><br><span class="line">#删除主键索引</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> exam_02 <span class="keyword">drop</span> <span class="keyword">primary</span> key;</span><br><span class="line"></span><br><span class="line">#查询索引</span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> exam;</span><br><span class="line"><span class="keyword">show</span> indexes <span class="keyword">from</span> exam;</span><br><span class="line"><span class="keyword">show</span> keys <span class="keyword">from</span> exam;</span><br><span class="line"><span class="keyword">desc</span> exam; #不推荐 不够详细</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="5-创建索引的规则"><a href="#5-创建索引的规则" class="headerlink" title="(5) 创建索引的规则"></a>(5) 创建索引的规则</h4><ul>
<li><h4 id="1-较为频繁的作为-查询条件的-列，应该创建索引。如id"><a href="#1-较为频繁的作为-查询条件的-列，应该创建索引。如id" class="headerlink" title="1. 较为频繁的作为 查询条件的 列，应该创建索引。如id"></a>1. 较为频繁的作为 查询条件的 列，应该创建索引。如id</h4></li>
<li><h4 id="2-唯一性太差的-列-不应该-设置索引。-即使该列-频繁作为查询条件"><a href="#2-唯一性太差的-列-不应该-设置索引。-即使该列-频繁作为查询条件" class="headerlink" title="2. 唯一性太差的 列 不应该 设置索引。 即使该列 频繁作为查询条件"></a>2. 唯一性太差的 列 不应该 设置索引。 即使该列 频繁作为查询条件</h4></li>
<li><h4 id="3-频繁更新的列-不应该设置为索引"><a href="#3-频繁更新的列-不应该设置为索引" class="headerlink" title="3. 频繁更新的列 不应该设置为索引"></a>3. 频繁更新的列 不应该设置为索引</h4></li>
<li><h4 id="4-不会作为-查询条件的-列-不设置索引"><a href="#4-不会作为-查询条件的-列-不设置索引" class="headerlink" title="4. 不会作为 查询条件的 列 不设置索引"></a>4. 不会作为 查询条件的 列 不设置索引</h4></li>
</ul>
</li>
</ul>
<h3 id="十四、事务"><a href="#十四、事务" class="headerlink" title="十四、事务"></a>十四、事务</h3><ul>
<li><h4 id="1-含义：事务用于保证-数据的一致性，它由一组的dml语句组成，改组的dml语句-要么全部成功，要么全部失败。"><a href="#1-含义：事务用于保证-数据的一致性，它由一组的dml语句组成，改组的dml语句-要么全部成功，要么全部失败。" class="headerlink" title="(1) 含义：事务用于保证 数据的一致性，它由一组的dml语句组成，改组的dml语句 要么全部成功，要么全部失败。"></a>(1) 含义：事务用于保证 数据的一致性，它由一组的dml语句组成，改组的dml语句 要么全部成功，要么全部失败。</h4></li>
<li><h4 id="2-锁的含义：-当多个用户操作同一张表时，锁可以防止其它用户修改表的数据，既只能让一个用户操作一张表。"><a href="#2-锁的含义：-当多个用户操作同一张表时，锁可以防止其它用户修改表的数据，既只能让一个用户操作一张表。" class="headerlink" title="(2) 锁的含义： 当多个用户操作同一张表时，锁可以防止其它用户修改表的数据，既只能让一个用户操作一张表。"></a>(2) 锁的含义： 当多个用户操作同一张表时，锁可以防止其它用户修改表的数据，既只能让一个用户操作一张表。</h4></li>
<li><h4 id="3-事务的操作"><a href="#3-事务的操作" class="headerlink" title="(3) 事务的操作"></a>(3) 事务的操作</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction; #开启事务 # 设置一个 保存点 可用于 回滚</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> exam <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">25</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> exam <span class="keyword">values</span>(<span class="number">21</span>,<span class="number">34</span>);</span><br><span class="line"><span class="keyword">savepoint</span> b; #设置一个 保存点 b 可用于回滚 </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> exam <span class="keyword">values</span>(<span class="number">45</span>,<span class="number">56</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span><span class="keyword">from</span> exam;</span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> b; #回滚事务 到 a结点 </span><br><span class="line"><span class="keyword">rollback</span>; #可以直接回滚到 事务刚开始的状态。</span><br><span class="line"></span><br><span class="line"><span class="keyword">commit</span>; #提交事务 提交完之后 就叫不能回滚</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="4-事务操作细节"><a href="#4-事务操作细节" class="headerlink" title="(4) 事务操作细节"></a>(4) 事务操作细节</h4><ul>
<li><h5 id="如果没有-开始事务，默认情况下，dml操作是-自动提交的，不能回滚。"><a href="#如果没有-开始事务，默认情况下，dml操作是-自动提交的，不能回滚。" class="headerlink" title="如果没有 开始事务，默认情况下，dml操作是 自动提交的，不能回滚。"></a>如果没有 开始事务，默认情况下，dml操作是 自动提交的，不能回滚。</h5></li>
<li><h5 id="mysql-的事务机制-需要-innodb的存储引擎才可以使用-，而-myisam-引擎不好使。"><a href="#mysql-的事务机制-需要-innodb的存储引擎才可以使用-，而-myisam-引擎不好使。" class="headerlink" title="mysql 的事务机制 需要 innodb的存储引擎才可以使用 ，而 myisam 引擎不好使。"></a>mysql 的事务机制 需要 innodb的存储引擎才可以使用 ，而 myisam 引擎不好使。</h5></li>
<li><h5 id="开始事务的语句有两个-1-start-transaction-2-set-autocommit-off"><a href="#开始事务的语句有两个-1-start-transaction-2-set-autocommit-off" class="headerlink" title="开始事务的语句有两个 1. start transaction 2. set autocommit&#x3D;off"></a>开始事务的语句有两个 1. start transaction 2. set autocommit&#x3D;off</h5></li>
</ul>
</li>
<li><h4 id="5-事务隔离级别"><a href="#5-事务隔离级别" class="headerlink" title="(5) 事务隔离级别"></a>(5) 事务隔离级别</h4><ul>
<li><h4 id="介绍：当多个连接-开启各自的事务操作-数据库中的数据时，数据库系统-需要负责-隔离操作，保证各个连接在获取数据时的准确性。"><a href="#介绍：当多个连接-开启各自的事务操作-数据库中的数据时，数据库系统-需要负责-隔离操作，保证各个连接在获取数据时的准确性。" class="headerlink" title="介绍：当多个连接 开启各自的事务操作 数据库中的数据时，数据库系统 需要负责 隔离操作，保证各个连接在获取数据时的准确性。"></a>介绍：当多个连接 开启各自的事务操作 数据库中的数据时，数据库系统 需要负责 隔离操作，保证各个连接在获取数据时的准确性。</h4></li>
<li><h4 id="不考虑隔离性可能会出现的问题："><a href="#不考虑隔离性可能会出现的问题：" class="headerlink" title="不考虑隔离性可能会出现的问题："></a>不考虑隔离性可能会出现的问题：</h4><ul>
<li><h5 id="1-脏读-dirty-read-：当一个事务-读取到了-另一个事务尚未提交的修改时，就为脏读"><a href="#1-脏读-dirty-read-：当一个事务-读取到了-另一个事务尚未提交的修改时，就为脏读" class="headerlink" title="1. 脏读(dirty read)：当一个事务 读取到了 另一个事务尚未提交的修改时，就为脏读"></a>1. 脏读(dirty read)：当一个事务 读取到了 另一个事务尚未提交的修改时，就为脏读</h5></li>
<li><h5 id="2-不可重复读-nonrepeatable-read-由于-其中一个事务-提交了-对数据进行的-修改或者删除-操作，而另一个事务-多次查询了该数据，返回了多次不一样的结果，这就为-不可重复读。"><a href="#2-不可重复读-nonrepeatable-read-由于-其中一个事务-提交了-对数据进行的-修改或者删除-操作，而另一个事务-多次查询了该数据，返回了多次不一样的结果，这就为-不可重复读。" class="headerlink" title="2. 不可重复读(nonrepeatable read): 由于 其中一个事务 提交了 对数据进行的 修改或者删除 操作，而另一个事务 多次查询了该数据，返回了多次不一样的结果，这就为 不可重复读。"></a>2. 不可重复读(nonrepeatable read): 由于 其中一个事务 提交了 对数据进行的 修改或者删除 操作，而另一个事务 多次查询了该数据，返回了多次不一样的结果，这就为 不可重复读。</h5></li>
<li><h5 id="3-幻读-phantom-read-由于-其中一个事务-提交了-对数据进行的-增加-操作，而另一个事务-多次查询了该数据，返回了多次不一样的结果，这就为-幻读。"><a href="#3-幻读-phantom-read-由于-其中一个事务-提交了-对数据进行的-增加-操作，而另一个事务-多次查询了该数据，返回了多次不一样的结果，这就为-幻读。" class="headerlink" title="3. 幻读(phantom read): 由于 其中一个事务 提交了 对数据进行的 增加 操作，而另一个事务 多次查询了该数据，返回了多次不一样的结果，这就为 幻读。"></a>3. 幻读(phantom read): 由于 其中一个事务 提交了 对数据进行的 增加 操作，而另一个事务 多次查询了该数据，返回了多次不一样的结果，这就为 幻读。</h5></li>
</ul>
</li>
<li><h4 id="事务隔离级别"><a href="#事务隔离级别" class="headerlink" title="事务隔离级别"></a>事务隔离级别</h4><p><img src="/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB.png"></p>
</li>
<li><h4 id="隔离级别操作"><a href="#隔离级别操作" class="headerlink" title="隔离级别操作"></a>隔离级别操作</h4><ul>
<li><h5 id="查看当前会话隔离级别：-select-tx-isolation"><a href="#查看当前会话隔离级别：-select-tx-isolation" class="headerlink" title="查看当前会话隔离级别： select @@tx_isolation"></a>查看当前会话隔离级别： select @@tx_isolation</h5></li>
<li><h5 id="查看系统当前隔离级别：select-global-tx-isolation"><a href="#查看系统当前隔离级别：select-global-tx-isolation" class="headerlink" title="查看系统当前隔离级别：select @@global.tx_isolation"></a>查看系统当前隔离级别：select @@global.tx_isolation</h5></li>
<li><h5 id="设置当前会话隔离级别：set-session-transation-isolation-level-xx-既需要设置的-隔离级别"><a href="#设置当前会话隔离级别：set-session-transation-isolation-level-xx-既需要设置的-隔离级别" class="headerlink" title="设置当前会话隔离级别：set session transation isolation level xx(既需要设置的 隔离级别)"></a>设置当前会话隔离级别：set session transation isolation level xx(既需要设置的 隔离级别)</h5></li>
<li><h5 id="设置系统当前隔离级别：-set-global-transation-isolation-level-xx-既需要设置的-隔离级别"><a href="#设置系统当前隔离级别：-set-global-transation-isolation-level-xx-既需要设置的-隔离级别" class="headerlink" title="设置系统当前隔离级别： set global transation isolation level xx(既需要设置的 隔离级别)"></a>设置系统当前隔离级别： set global transation isolation level xx(既需要设置的 隔离级别)</h5></li>
<li><h5 id="mysql-的-默认事务隔离级别-是-reoeatable-read-可重复读-。可在mysql的安装目录中-的-my-ini-文件-transaction-isolation-xx-修改默认的-隔离级别。"><a href="#mysql-的-默认事务隔离级别-是-reoeatable-read-可重复读-。可在mysql的安装目录中-的-my-ini-文件-transaction-isolation-xx-修改默认的-隔离级别。" class="headerlink" title="mysql 的 默认事务隔离级别 是 reoeatable read(可重复读) 。可在mysql的安装目录中 的 my.ini 文件 transaction-isolation &#x3D; xx 修改默认的 隔离级别。"></a>mysql 的 默认事务隔离级别 是 reoeatable read(可重复读) 。可在mysql的安装目录中 的 my.ini 文件 transaction-isolation &#x3D; xx 修改默认的 隔离级别。</h5></li>
</ul>
</li>
<li><h4 id="事务的-acid特性"><a href="#事务的-acid特性" class="headerlink" title="事务的 acid特性"></a>事务的 acid特性</h4><p><img src="/%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E7%89%B9%E6%80%A7.png"></p>
</li>
</ul>
</li>
</ul>
<h3 id="十五、存储引擎"><a href="#十五、存储引擎" class="headerlink" title="十五、存储引擎"></a>十五、存储引擎</h3><ul>
<li><h4 id="1-基本介绍"><a href="#1-基本介绍" class="headerlink" title="(1) 基本介绍"></a>(1) 基本介绍</h4><ul>
<li><h4 id="mysql-表类型-由-存储引擎决定，主要包括有Myisam、innodb、memory等。"><a href="#mysql-表类型-由-存储引擎决定，主要包括有Myisam、innodb、memory等。" class="headerlink" title="mysql 表类型 由 存储引擎决定，主要包括有Myisam、innodb、memory等。"></a>mysql 表类型 由 存储引擎决定，主要包括有Myisam、innodb、memory等。</h4></li>
<li><h4 id="mysql数据库表-支持六种类型，分别为CSV、Memory、ARCHIVE、MRG、MYISAM、innoDB。"><a href="#mysql数据库表-支持六种类型，分别为CSV、Memory、ARCHIVE、MRG、MYISAM、innoDB。" class="headerlink" title="mysql数据库表 支持六种类型，分别为CSV、Memory、ARCHIVE、MRG、MYISAM、innoDB。"></a>mysql数据库表 支持六种类型，分别为CSV、Memory、ARCHIVE、MRG、MYISAM、innoDB。</h4></li>
<li><h4 id="这六种类型又区分为两类，一类是-“事务安全型”-如-innoDB-另一类则是为-“非事务安全型”-其余的表类型-都是该类型"><a href="#这六种类型又区分为两类，一类是-“事务安全型”-如-innoDB-另一类则是为-“非事务安全型”-其余的表类型-都是该类型" class="headerlink" title="这六种类型又区分为两类，一类是 “事务安全型” 如 innoDB 另一类则是为 “非事务安全型” 其余的表类型 都是该类型"></a>这六种类型又区分为两类，一类是 “事务安全型” 如 innoDB 另一类则是为 “非事务安全型” 其余的表类型 都是该类型</h4></li>
</ul>
</li>
<li><h4 id="2-存储引擎的特点"><a href="#2-存储引擎的特点" class="headerlink" title="(2) 存储引擎的特点"></a>(2) 存储引擎的特点</h4><p><img src="/%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E7%89%B9%E7%82%B9.png"></p>
</li>
<li><h4 id="3-三种主要的存储引擎介绍"><a href="#3-三种主要的存储引擎介绍" class="headerlink" title="(3) 三种主要的存储引擎介绍"></a>(3) 三种主要的存储引擎介绍</h4><ul>
<li><h4 id="MyISAM-不支持事务、外键，但访问速度快，对事务完整性没有要求。"><a href="#MyISAM-不支持事务、外键，但访问速度快，对事务完整性没有要求。" class="headerlink" title="MyISAM: 不支持事务、外键，但访问速度快，对事务完整性没有要求。"></a>MyISAM: 不支持事务、外键，但访问速度快，对事务完整性没有要求。</h4></li>
<li><h4 id="InnoDB：提供了具有提交、回滚、崩溃恢复能力的事务安全功能，但是对比-MyISAM-的处理效率差，并且会占用更多的磁盘空间-用来保存-数据-和-索引。"><a href="#InnoDB：提供了具有提交、回滚、崩溃恢复能力的事务安全功能，但是对比-MyISAM-的处理效率差，并且会占用更多的磁盘空间-用来保存-数据-和-索引。" class="headerlink" title="InnoDB：提供了具有提交、回滚、崩溃恢复能力的事务安全功能，但是对比 MyISAM 的处理效率差，并且会占用更多的磁盘空间 用来保存 数据 和 索引。"></a>InnoDB：提供了具有提交、回滚、崩溃恢复能力的事务安全功能，但是对比 MyISAM 的处理效率差，并且会占用更多的磁盘空间 用来保存 数据 和 索引。</h4></li>
<li><h4 id="MEMORY-使用-内存-来创建表，每个-memory表实际对应一个磁盘文件。-对于表的访问-非常得快，因为数据是放在-内存中的，默认使用-HASH索引。-一旦mysql服务关闭，那么表的数据就会全部丢失，但是表结构还在。"><a href="#MEMORY-使用-内存-来创建表，每个-memory表实际对应一个磁盘文件。-对于表的访问-非常得快，因为数据是放在-内存中的，默认使用-HASH索引。-一旦mysql服务关闭，那么表的数据就会全部丢失，但是表结构还在。" class="headerlink" title="MEMORY: 使用 内存 来创建表，每个 memory表实际对应一个磁盘文件。 对于表的访问 非常得快，因为数据是放在 内存中的，默认使用 HASH索引。 一旦mysql服务关闭，那么表的数据就会全部丢失，但是表结构还在。"></a>MEMORY: 使用 内存 来创建表，每个 memory表实际对应一个磁盘文件。 对于表的访问 非常得快，因为数据是放在 内存中的，默认使用 HASH索引。 一旦mysql服务关闭，那么表的数据就会全部丢失，但是表结构还在。</h4></li>
</ul>
</li>
<li><h4 id="4-如何选择存储引擎"><a href="#4-如何选择存储引擎" class="headerlink" title="(4) 如何选择存储引擎"></a>(4) 如何选择存储引擎</h4><ul>
<li><h4 id="如果应用不需要事务的功能-，就可以使用-MyISAM-。若需要-则用-innoDB"><a href="#如果应用不需要事务的功能-，就可以使用-MyISAM-。若需要-则用-innoDB" class="headerlink" title="如果应用不需要事务的功能 ，就可以使用 MyISAM 。若需要 则用 innoDB"></a>如果应用不需要事务的功能 ，就可以使用 MyISAM 。若需要 则用 innoDB</h4></li>
<li><h4 id="对于-数据经常产生变化，并且-该数据没有保存的意义时，就可以选择-MEMORY"><a href="#对于-数据经常产生变化，并且-该数据没有保存的意义时，就可以选择-MEMORY" class="headerlink" title="对于 数据经常产生变化，并且 该数据没有保存的意义时，就可以选择 MEMORY"></a>对于 数据经常产生变化，并且 该数据没有保存的意义时，就可以选择 MEMORY</h4></li>
</ul>
</li>
<li><h4 id="5-引擎基本操作"><a href="#5-引擎基本操作" class="headerlink" title="(5) 引擎基本操作"></a>(5) 引擎基本操作</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#创建引擎</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t1(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    `name` <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">)engine MyISAM;</span><br><span class="line"></span><br><span class="line">#修改引擎</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t1 engine <span class="operator">=</span> innoDB;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="十六、视图"><a href="#十六、视图" class="headerlink" title="十六、视图"></a>十六、视图</h3><ul>
<li><h4 id="1-含义：视图-是一个虚拟表，其内容是根据查询定义的。同真实的表一样，视图中的列-均来自于-对应的真实表（基表）的数据。"><a href="#1-含义：视图-是一个虚拟表，其内容是根据查询定义的。同真实的表一样，视图中的列-均来自于-对应的真实表（基表）的数据。" class="headerlink" title="(1) 含义：视图 是一个虚拟表，其内容是根据查询定义的。同真实的表一样，视图中的列 均来自于 对应的真实表（基表）的数据。"></a>(1) 含义：视图 是一个虚拟表，其内容是根据查询定义的。同真实的表一样，视图中的列 均来自于 对应的真实表（基表）的数据。</h4></li>
<li><h4 id="2-视图基本使用"><a href="#2-视图基本使用" class="headerlink" title="(2) 视图基本使用"></a>(2) 视图基本使用</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#视图的使用</span><br><span class="line">use exam_01;</span><br><span class="line">#<span class="number">1.</span> 创建一个视图emp_view01，只能查询emp表的(empno、ename, job 和 deptno ) 信息</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> emp_view01 <span class="keyword">as</span> <span class="keyword">select</span> empno,ename,job,deptno <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span> 查看视图</span><br><span class="line"><span class="keyword">desc</span> emp_view01;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span> 查看创建视图的指令</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">view</span> emp_view01;</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span> 删除视图</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> emp_view01;</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="3-使用细节"><a href="#3-使用细节" class="headerlink" title="(3) 使用细节"></a>(3) 使用细节</h4><ul>
<li><h4 id="创建视图后，在mysql-存放数据库的文件中，可以看到视图只有-视图结构文件-视图名-frm"><a href="#创建视图后，在mysql-存放数据库的文件中，可以看到视图只有-视图结构文件-视图名-frm" class="headerlink" title="创建视图后，在mysql 存放数据库的文件中，可以看到视图只有 视图结构文件(视图名.frm)"></a>创建视图后，在mysql 存放数据库的文件中，可以看到视图只有 视图结构文件(视图名.frm)</h4></li>
<li><h4 id="改变视图的数据-就会改变基表的-数据。-基表的数据-自然会影响到-视图的数据"><a href="#改变视图的数据-就会改变基表的-数据。-基表的数据-自然会影响到-视图的数据" class="headerlink" title="改变视图的数据 就会改变基表的 数据。 基表的数据 自然会影响到 视图的数据"></a>改变视图的数据 就会改变基表的 数据。 基表的数据 自然会影响到 视图的数据</h4></li>
<li><h4 id="视图-也可以作为-基表，既-视图中-可以再使用-视图"><a href="#视图-也可以作为-基表，既-视图中-可以再使用-视图" class="headerlink" title="视图 也可以作为 基表，既 视图中 可以再使用 视图"></a>视图 也可以作为 基表，既 视图中 可以再使用 视图</h4></li>
</ul>
</li>
<li><h4 id="4-视图的最佳实践"><a href="#4-视图的最佳实践" class="headerlink" title="(4) 视图的最佳实践"></a>(4) 视图的最佳实践</h4><ul>
<li><h4 id="安全：视图可以有效帮助-基表保密某些字段，公开的字段-直接在视图显示即可，就不用查看到基表了。"><a href="#安全：视图可以有效帮助-基表保密某些字段，公开的字段-直接在视图显示即可，就不用查看到基表了。" class="headerlink" title="安全：视图可以有效帮助 基表保密某些字段，公开的字段 直接在视图显示即可，就不用查看到基表了。"></a>安全：视图可以有效帮助 基表保密某些字段，公开的字段 直接在视图显示即可，就不用查看到基表了。</h4></li>
<li><h4 id="性能：若需要-多表查询的时候，往往会进行分表查询，创建外键建立联系等操作，这样麻烦而且效率低。这时，就可以通过-视图-把需要的列组合在-一起就可以-通过一张视图就能查询想要的信息了。"><a href="#性能：若需要-多表查询的时候，往往会进行分表查询，创建外键建立联系等操作，这样麻烦而且效率低。这时，就可以通过-视图-把需要的列组合在-一起就可以-通过一张视图就能查询想要的信息了。" class="headerlink" title="性能：若需要 多表查询的时候，往往会进行分表查询，创建外键建立联系等操作，这样麻烦而且效率低。这时，就可以通过 视图 把需要的列组合在 一起就可以 通过一张视图就能查询想要的信息了。"></a>性能：若需要 多表查询的时候，往往会进行分表查询，创建外键建立联系等操作，这样麻烦而且效率低。这时，就可以通过 视图 把需要的列组合在 一起就可以 通过一张视图就能查询想要的信息了。</h4></li>
<li><h4 id="灵活：若有一张-旧表，即将废弃，但是该表-涉及到很多-其它表，不便于删除与修改。这时，就可以使用-视图来-映射到相关的-数据（既-旧表与其它表设计的列）。这样-就可以不需要改变旧表-也能实现-创建新表的效果。"><a href="#灵活：若有一张-旧表，即将废弃，但是该表-涉及到很多-其它表，不便于删除与修改。这时，就可以使用-视图来-映射到相关的-数据（既-旧表与其它表设计的列）。这样-就可以不需要改变旧表-也能实现-创建新表的效果。" class="headerlink" title="灵活：若有一张 旧表，即将废弃，但是该表 涉及到很多 其它表，不便于删除与修改。这时，就可以使用 视图来 映射到相关的 数据（既 旧表与其它表设计的列）。这样 就可以不需要改变旧表 也能实现 创建新表的效果。"></a>灵活：若有一张 旧表，即将废弃，但是该表 涉及到很多 其它表，不便于删除与修改。这时，就可以使用 视图来 映射到相关的 数据（既 旧表与其它表设计的列）。这样 就可以不需要改变旧表 也能实现 创建新表的效果。</h4></li>
</ul>
</li>
</ul>
<h3 id="十七、mysql用户管理"><a href="#十七、mysql用户管理" class="headerlink" title="十七、mysql用户管理"></a>十七、mysql用户管理</h3><ul>
<li><h4 id="1-基本介绍：mysql中的用户，都存储在-数据库mysql中的-user表中。-该表主要有三个字段-host-允许登录的位置，既ip号，user：用户名，authentication-string-：用password-函数加密过的-密码。"><a href="#1-基本介绍：mysql中的用户，都存储在-数据库mysql中的-user表中。-该表主要有三个字段-host-允许登录的位置，既ip号，user：用户名，authentication-string-：用password-函数加密过的-密码。" class="headerlink" title="(1) 基本介绍：mysql中的用户，都存储在 数据库mysql中的 user表中。 该表主要有三个字段, host: 允许登录的位置，既ip号，user：用户名，authentication_string ：用password()函数加密过的 密码。"></a>(1) 基本介绍：mysql中的用户，都存储在 数据库mysql中的 user表中。 该表主要有三个字段, host: 允许登录的位置，既ip号，user：用户名，authentication_string ：用password()函数加密过的 密码。</h4></li>
<li><h4 id="2-用户基本操作"><a href="#2-用户基本操作" class="headerlink" title="(2) 用户基本操作"></a>(2) 用户基本操作</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#演示用户相关操作</span><br><span class="line"></span><br><span class="line">#<span class="number">1.</span> 创建用户</span><br><span class="line"># <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>: 用户名 与 登录位置(ip) </span><br><span class="line"># <span class="string">&#x27;123456&#x27;</span>： 密码</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>; </span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span> 查询用户</span><br><span class="line"><span class="keyword">select</span> `host`,`<span class="keyword">user</span>`,authentication_string <span class="keyword">from</span> mysql.user;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>修改密码</span><br><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> <span class="operator">=</span> password(<span class="string">&#x27;jack&#x27;</span>);</span><br><span class="line">#如果 登录用户就是 本身 则可以 简化修改密码语句</span><br><span class="line"><span class="keyword">set</span> password <span class="operator">=</span> password(<span class="string">&#x27;jack&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span> 删除用户</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>


</li>
<li><h4 id="3-用户权限设置"><a href="#3-用户权限设置" class="headerlink" title="(3) 用户权限设置"></a>(3) 用户权限设置</h4><ul>
<li><h5 id="语法设置"><a href="#语法设置" class="headerlink" title="语法设置"></a>语法设置</h5><p><img src="/%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E8%AF%AD%E6%B3%95.png"></p>
</li>
<li><h5 id="权限操作"><a href="#权限操作" class="headerlink" title="权限操作"></a>权限操作</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#演示 用户权限管理</span><br><span class="line"></span><br><span class="line">#<span class="number">1.</span> 创建用户</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;jack&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2.</span> 使用root 用户创建 testdb数据库  ,表 news 并添加测试数据</span><br><span class="line"><span class="keyword">create</span> database testdb;</span><br><span class="line">use testdb;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> news(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    content <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> news <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;广州新闻&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> news <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;肇庆新闻&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span> 给 jack 分配查看 news 表和 添加news的权限</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span>,<span class="keyword">insert</span> <span class="keyword">on</span> testdb.news <span class="keyword">to</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">4.</span> 可以增加<span class="keyword">update</span>权限</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span> <span class="keyword">on</span> testdb.news <span class="keyword">to</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">5.</span> 回收 jack 用户在 testdb.news 表的所有权限</span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">select</span>,<span class="keyword">update</span>,<span class="keyword">insert</span> <span class="keyword">on</span> testdb.news <span class="keyword">from</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">#如果想要省事 可以这样写</span><br><span class="line">#<span class="keyword">revoke</span> <span class="keyword">all</span> <span class="keyword">on</span> testdb.news <span class="keyword">from</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">6.</span> 删除Jack</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;jack&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><h4 id="4-使用细节"><a href="#4-使用细节" class="headerlink" title="(4) 使用细节"></a>(4) 使用细节</h4><ul>
<li><h4 id="在创建用户的时候，如果不指定-host，则为-，-表示所有-ip都有连接的权限。"><a href="#在创建用户的时候，如果不指定-host，则为-，-表示所有-ip都有连接的权限。" class="headerlink" title="在创建用户的时候，如果不指定 host，则为% ，%表示所有 ip都有连接的权限。"></a>在创建用户的时候，如果不指定 host，则为% ，%表示所有 ip都有连接的权限。</h4></li>
<li><h4 id="创建用户的语句中-create-user-‘xxx‘-’192-168-1-’-表示该用户-可以在-192-168-1-的ip可以的登陆。"><a href="#创建用户的语句中-create-user-‘xxx‘-’192-168-1-’-表示该用户-可以在-192-168-1-的ip可以的登陆。" class="headerlink" title="创建用户的语句中 create user ‘xxx‘@’192.168.1.%’ 表示该用户 可以在 192.168.1.* 的ip可以的登陆。"></a>创建用户的语句中 create user ‘xxx‘@’192.168.1.%’ 表示该用户 可以在 192.168.1.* 的ip可以的登陆。</h4></li>
<li><h4 id="删除用户时，如果-host-不是-，则需要明确信息-‘用户‘-’host值’"><a href="#删除用户时，如果-host-不是-，则需要明确信息-‘用户‘-’host值’" class="headerlink" title="删除用户时，如果 host 不是 %，则需要明确信息 ‘用户‘@’host值’"></a>删除用户时，如果 host 不是 %，则需要明确信息 ‘用户‘@’host值’</h4></li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">jackCoding</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2021/09/21/Java%E5%A4%8D%E4%B9%A0/mysql%E5%A4%8D%E4%B9%A0/">http://example.com/2021/09/21/Java%E5%A4%8D%E4%B9%A0/mysql%E5%A4%8D%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">梁伟杰的代码之旅</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Mysql-%E5%A4%8D%E4%B9%A0/">-Mysql -复习</a></div><div class="post_share"><div class="social-share" data-image="/img/avator.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/09/21/Java%E5%A4%8D%E4%B9%A0/Java%E5%A4%8D%E4%B9%A0-5/" title="java复习-5"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">java复习-5</div></div></a></div><div class="next-post pull-right"><a href="/2021/09/21/%E6%A8%A1%E6%9D%BF/" title="模板"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">模板</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avator.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">jackCoding</div><div class="author-info__description">编程学习之旅</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">44</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81mysql-%E5%9F%BA%E6%9C%AC%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">一、mysql 基本启动命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-mysql-%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4%EF%BC%9Anet-start-mysql-%E5%BC%80%E5%90%AFmysql%E6%9C%8D%E5%8A%A1%E3%80%81net-stop-mysql-%E5%81%9C%E6%AD%A2mysql%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.</span> <span class="toc-text">1. mysql 服务启动命令：net start mysql 开启mysql服务、net stop mysql 停止mysql服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%BF%9E%E6%8E%A5mysql-%E5%91%BD%E4%BB%A4%EF%BC%9Amysql-h-%E4%B8%BB%E6%9C%BA%E5%90%8D-ip%E5%8F%B7-%E9%BB%98%E8%AE%A4%E4%B8%BA127-0-0-1-%E6%97%A2%E6%9C%AC%E6%9C%BA-P-%E7%AB%AF%E5%8F%A3%E5%8F%B7-%E9%BB%98%E8%AE%A4-3306-u-%E7%94%A8%E6%88%B7%E5%90%8D-p%E5%AF%86%E7%A0%81"><span class="toc-number">1.2.</span> <span class="toc-text">2. 连接mysql 命令：mysql -h 主机名(ip号 默认为127.0.0.1 既本机) -P 端口号(默认 3306) -u 用户名 -p密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B-mysql%E7%89%88%E6%9C%AC%EF%BC%88%E9%9C%80%E8%A6%81%E8%BF%9B%E5%85%A5-mysql-%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84-bin-%E7%9B%AE%E5%BD%95-%E6%89%8D%E8%83%BD%E4%BD%BF%E7%94%A8-mysql%E5%91%BD%E4%BB%A4%EF%BC%89%EF%BC%9A-mysql-%E2%80%93version"><span class="toc-number">1.3.</span> <span class="toc-text">3. 查看 mysql版本（需要进入 mysql 安装目录下的 bin 目录 才能使用 mysql命令）： mysql –version</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81mysql-%E4%B8%89%E5%B1%82%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90"><span class="toc-number">2.</span> <span class="toc-text">二、mysql 三层结构解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%AF%B4%E6%98%8E%EF%BC%9A%E5%BD%93-%E5%BC%80%E5%90%AFmysql-%E6%9C%8D%E5%8A%A1%E6%97%B6%EF%BC%8Cmysql-%E9%80%9A%E8%BF%87tcp%E7%BD%91%E7%BB%9C%E7%9A%84-mysql%E7%AB%AF%E5%8F%A3-%E9%BB%98%E8%AE%A4-3306-%E8%BF%9B%E8%A1%8C%E7%9B%91%E5%90%AC%E3%80%82-%E5%BD%93%E5%AE%A2%E6%88%B7%E7%AB%AF-%E8%BE%93%E5%85%A5mysql%E5%91%BD%E4%BB%A4%E5%90%8E%EF%BC%8C3306%E7%AB%AF%E5%8F%A3%E5%B0%B1%E4%BC%9A%E6%8E%A5%E5%8F%97%E5%88%B0-%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%88%86%E6%9E%90%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%A4%84%E7%90%86%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%9C%80%E5%90%8E-%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%BB%99-%E5%AE%A2%E6%88%B7%E7%AB%AF%E3%80%82"><span class="toc-number">2.1.</span> <span class="toc-text">1. 说明：当 开启mysql 服务时，mysql 通过tcp网络的 mysql端口( 默认 3306)  进行监听。 当客户端 输入mysql命令后，3306端口就会接受到 请求，分析命令，处理操作，最后 返回结果给 客户端。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-SQL-%E8%AF%AD%E5%8F%A5%E5%88%86%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">2. SQL 语句分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">2.3.</span> <span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">三、操作数据库的命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">1. 创建数据库：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#character-set-%E6%8C%87%E5%AE%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E9%87%87%E7%94%A8%E7%9A%84-%E5%AD%97%E7%AC%A6%E9%9B%86%E3%80%82-%E9%BB%98%E8%AE%A4%E6%97%B6-utf8"><span class="toc-number">3.2.</span> <span class="toc-text">character set : 指定数据库采用的 字符集。 默认时 utf8</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#collate%EF%BC%9A%E6%8C%87%E5%AE%9A-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E7%AC%A6%E9%9B%86-%E7%9A%84-%E6%A0%A1%E5%AF%B9%E8%A7%84%E5%88%99%E3%80%82%EF%BC%88%E5%B8%B8%E7%94%A8-utf8-bin-%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99-%E3%80%81utf8-general-ci-%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99-%EF%BC%89"><span class="toc-number">3.3.</span> <span class="toc-text">collate：指定 数据库字符集 的 校对规则。（常用 utf8_bin(区分大小写) 、utf8_general_ci(不区分大小写)）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9F%A5%E7%9C%8B%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.4.</span> <span class="toc-text">2. 查看、删除数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9Ashow-database"><span class="toc-number">3.5.</span> <span class="toc-text">查看数据库：show database</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA%E8%AF%AD%E5%8F%A5%EF%BC%9Ashow-create-databse-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D"><span class="toc-number">3.6.</span> <span class="toc-text">显示数据库创建语句：show create databse 数据库名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9Adrop-database-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D"><span class="toc-number">3.7.</span> <span class="toc-text">删除数据库：drop database 数据库名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%94%A8-%E8%B5%B7%E6%9D%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D%EF%BC%8C%E7%94%A8%E4%BA%8E%E9%81%BF%E5%85%8D%E4%B8%8E%E5%85%B3%E9%94%AE%E5%AD%97%E7%9F%9B%E7%9B%BE%E3%80%82-%E5%A6%82%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D%E4%B8%BAcreate-%E5%88%99%E5%8F%AF%E4%BB%A5%E7%94%A8-%E8%B5%B7%E6%9D%A5"><span class="toc-number">3.8.</span> <span class="toc-text">小知识点：用 \&#96;&#96;\ 起来数据库名，用于避免与关键字矛盾。 如数据库名为create 则可以用 \&#96;&#96;\ 起来</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.9.</span> <span class="toc-text">3. 备份恢复数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E9%9C%80%E8%A6%81%E5%9C%A8-DOS-%E6%89%A7%E8%A1%8C-%E6%97%A2-%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%EF%BC%89%EF%BC%9Amysqldump-u-%E7%94%A8%E6%88%B7%E5%90%8D-p-B-db1%E3%80%81db2-%E6%96%87%E4%BB%B6%E5%90%8D-sql"><span class="toc-number">3.10.</span> <span class="toc-text">备份数据库（需要在 DOS 执行 既 命令提示符）：mysqldump -u 用户名 -p -B db1、db2  &gt; 文件名.sql</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD-%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%EF%BC%9Amysqldump-u-%E7%94%A8%E6%88%B7%E5%90%8D-p-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D-%E8%A1%A81-%E8%A1%A82-%E6%96%87%E4%BB%B6%E5%90%8D-sql"><span class="toc-number">3.11.</span> <span class="toc-text">备份 部分数据库表：mysqldump -u 用户名 -p 数据库名 表1 表2 &gt; 文件名.sql</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E9%9C%80%E8%A6%81%E5%9C%A8-mysql%E4%B8%AD%E8%BF%90%E8%A1%8C%EF%BC%89%EF%BC%9Asource-%E6%96%87%E4%BB%B6%E5%90%8D-d-xx-sql-sql"><span class="toc-number">3.12.</span> <span class="toc-text">恢复数据库（需要在 mysql中运行）：source 文件名(d:\\ xx.sql).sql</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">4.</span> <span class="toc-text">四、创建表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%91%BD%E4%BB%A4%EF%BC%9Acreate-table-%E8%A1%A8%E5%90%8D%EF%BC%88field1-dataType-field2-dataTytpe-field3-dataType%EF%BC%89character-set-%E5%AD%97%E7%AC%A6%E9%9B%86-collate-%E6%A0%A1%E5%AF%B9%E8%A7%84%E5%88%99-engine-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E-%E3%80%82"><span class="toc-number">4.1.</span> <span class="toc-text">1. 命令：create table 表名（field1 dataType, field2 dataTytpe,field3 dataType）character set 字符集 collate 校对规则 engine 存储引擎 。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E8%A1%A8%EF%BC%9A%E5%BD%93%E5%88%9B%E5%BB%BA%E7%9A%84%E8%A1%A8%E4%B8%8E-%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%9A%84%E7%BB%93%E6%9E%84%E7%9B%B8%E4%BC%BC%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-like%E6%9D%A5%E8%BF%9B%E8%A1%8C%E5%88%9B%E5%BB%BA"><span class="toc-number">4.2.</span> <span class="toc-text">2. 快速创建表：当创建的表与 另一个表的结构相似时，可以使用 like来进行创建</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81mysql%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">五、mysql常用的数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%95%B0%E5%80%BC%E5%9E%8B%EF%BC%88%E6%95%B4%E6%95%B0%EF%BC%89%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.1.</span> <span class="toc-text">1. 数值型（整数）的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8C%85%E5%90%AB%EF%BC%9Abit%E3%80%81tinyint%E3%80%81smallint%E3%80%81int%E3%80%81bigint"><span class="toc-number">5.2.</span> <span class="toc-text">数据类型包含：bit、tinyint、smallint、int、bigint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83%EF%BC%9A%E5%9C%A8%E8%83%BD%E5%A4%9F%E6%BB%A1%E8%B6%B3%E9%9C%80%E6%B1%82%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%B0%BD%E9%87%8F%E9%80%89%E6%8B%A9%E5%8D%A0%E7%94%A8%E7%A9%BA%E9%97%B4%E5%B0%8F%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">使用规范：在能够满足需求的情况下，尽量选择占用空间小的类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%9E%8B-%E6%9C%89%E7%AC%A6%E5%8F%B7-%E4%B8%8E-%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%8C%BA%E5%88%AB%E3%80%82%E9%BB%98%E8%AE%A4%E6%98%AF-%E6%9C%89%E7%AC%A6%E5%8F%B7%EF%BC%8C-%E5%A6%82%E6%9E%9C%E9%9C%80%E6%8C%87%E5%AE%9A%E6%97%A0%E7%AC%A6%E5%8F%B7-%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-unsigned-%E6%9D%A5%E6%8C%87%E5%AE%9A%E3%80%82"><span class="toc-number">5.4.</span> <span class="toc-text">数值型 有符号 与 无符号区别。默认是 有符号， 如果需指定无符号 可以使用 unsigned 来指定。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%9E%8B-bit%EF%BC%88%E4%BD%8D%EF%BC%89%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">5.5.</span> <span class="toc-text">数值型 bit（位）类型的使用：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bit-%E5%AD%97%E6%AE%B5-%E6%98%AF%E6%8C%89%E7%85%A7-%E4%BD%8D%E7%9A%84%E6%96%B9%E5%BC%8F%E6%98%BE%E7%A4%BA%E7%9A%84%E3%80%82-%E5%A6%82-bit-5-%E7%9A%84%E5%A4%A7%E5%B0%8F-%E7%AD%89%E4%BA%8E-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84-11111-31"><span class="toc-number">5.6.</span> <span class="toc-text">bit 字段 是按照 位的方式显示的。(如 bit(5)  的大小 等于 二进制的 11111 &#x3D; 31)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C-%E4%B8%80%E4%B8%AA%E5%80%BC-%E5%8F%AA%E6%9C%89-0%EF%BC%8C1-%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%80%83%E8%99%91%E4%BD%BF%E7%94%A8-bit-1-%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%8A%82%E7%9C%81%E7%A9%BA%E9%97%B4"><span class="toc-number">5.7.</span> <span class="toc-text">如果 一个值 只有 0，1 ，可以考虑使用 bit(1) ，可以节省空间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bit-M-M-%E6%8C%87%E5%AE%9A%E4%BD%8D%E6%95%B0-%E8%8C%83%E5%9B%B4-1-64"><span class="toc-number">5.8.</span> <span class="toc-text">bit(M) M 指定位数 范围 1~64</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E5%80%BC%E5%9E%8B%EF%BC%88%E5%B0%8F%E6%95%B0%EF%BC%89%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.9.</span> <span class="toc-text">2. 数值型（小数）的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8C%85%E5%90%AB%EF%BC%9Afloat%E3%80%81double%E3%80%81decimal-M-D"><span class="toc-number">5.10.</span> <span class="toc-text">数据类型包含：float、double、decimal[M,D]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%A6%E8%A7%A3-decimal-M-D-%EF%BC%9A"><span class="toc-number">5.11.</span> <span class="toc-text">详解 decimal[M,D]：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E4%BB%A5%E6%94%AF%E6%8C%81-%E6%9B%B4%E5%8A%A0%E7%B2%BE%E7%A1%AE%E7%9A%84%E5%B0%8F%E6%95%B0%E4%BD%8D%E3%80%82M%E6%98%AF%E5%B0%8F%E6%95%B0%E4%BD%8D%E6%95%B0%E7%9A%84%E6%80%BB%E6%95%B0-%E6%97%A2-%E5%B0%8F%E6%95%B0%E7%82%B9%E5%89%8D%E7%9A%84%E4%BD%8D%E6%95%B0-%EF%BC%8CD%E6%98%AF%E5%B0%8F%E6%95%B0%E7%82%B9%E5%90%8E%E9%9D%A2%E7%9A%84%E4%BD%8D%E6%95%B0%E3%80%82"><span class="toc-number">5.12.</span> <span class="toc-text">可以支持 更加精确的小数位。M是小数位数的总数( 既 小数点前的位数 )，D是小数点后面的位数。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9CD%E6%98%AF0%EF%BC%8C%E5%88%99%E5%80%BC-%E5%B0%B1%E6%B2%A1%E6%9C%89%E5%B0%8F%E6%95%B0%E4%BD%8D%EF%BC%8C%E5%B0%B1%E5%8F%98%E6%88%90%E4%BA%86%E6%95%B4%E6%95%B0%E3%80%82"><span class="toc-number">5.13.</span> <span class="toc-text">如果D是0，则值 就没有小数位，就变成了整数。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#M-%E6%9C%80%E5%A4%A765%EF%BC%8CD%E6%9C%80%E5%A4%A7-30%E3%80%82-%E5%A6%82%E6%9E%9C-M%E8%A2%AB%E7%9C%81%E7%95%A5-%E5%88%99%E9%BB%98%E8%AE%A4%E4%B8%BA-10%EF%BC%8CD%E8%A2%AB%E7%9C%81%E7%95%A5-%E5%88%99%E9%BB%98%E8%AE%A4%E4%B8%BA-0%E3%80%82"><span class="toc-number">5.14.</span> <span class="toc-text">M 最大65，D最大 30。 如果 M被省略 则默认为 10，D被省略 则默认为 0。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.15.</span> <span class="toc-text">3. 字符串类型的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8C%85%E5%90%AB%EF%BC%9Achar%EF%BC%88%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E5%AD%97%E7%AC%A6%E4%B8%B2-%E6%9C%80%E5%A4%A7-255%E5%AD%97%E7%AC%A6%EF%BC%89%E3%80%81varchar%EF%BC%88%E5%8F%AF%E5%8F%98%E9%95%BF%E5%BA%A6%E5%AD%97%E7%AC%A6%E4%B8%B2-%E6%9C%80%E5%A4%A7-65532-%E5%AD%97%E8%8A%82%EF%BC%89"><span class="toc-number">5.16.</span> <span class="toc-text">数据类型包含：char（固定长度字符串 最大 255字符）、varchar（可变长度字符串 最大 65532 字节）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82%EF%BC%9A"><span class="toc-number">5.17.</span> <span class="toc-text">使用细节：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#char%EF%BC%884%EF%BC%89-%E8%A1%A8%E7%A4%BA%E7%9A%84%E6%98%AF%E5%AD%97%E7%AC%A6%E6%95%B0-%E6%97%A2-%E4%BD%8D%E6%95%B0-%EF%BC%8C%E4%B8%8D%E6%98%AF%E5%AD%97%E8%8A%82%E6%95%B0-%E4%B8%8D%E7%AE%A1%E4%B8%AD%E6%96%87%E3%80%81%E5%AD%97%E6%AF%8D-%E9%83%BD%E6%98%AF%E5%8F%AF%E4%BB%A5%E6%94%BE4%E4%B8%AA%E3%80%82%E5%B9%B6%E4%B8%94-%E8%BF%99%E6%98%AF%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%EF%BC%8C%E5%8D%B3%E4%BE%BF%E6%8F%92%E5%85%A5%E7%9A%84%E2%80%98aa%E2%80%99-%E4%BD%86%E8%BF%98%E6%98%AF%E4%BC%9A%E5%8D%A0%E7%94%A8-4%E5%AD%97%E7%AC%A6%E7%9A%84-%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E3%80%82%E5%9B%A0%E6%AD%A4%E5%8F%AF%E7%94%A8%E4%BA%8E-%E5%9B%BA%E5%AE%9A%E9%95%BF%E5%BA%A6%E6%A0%BC%E5%BC%8F%E7%9A%84-%E7%B1%BB%E5%9E%8B%EF%BC%88%E5%A6%82-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E3%80%81%E9%82%AE%E7%AE%B1%E3%80%81%E8%BA%AB%E4%BB%BD%E8%AF%81%E5%8F%B7%E7%A0%81-%E7%AD%89%EF%BC%89%E3%80%82"><span class="toc-number">5.18.</span> <span class="toc-text">char（4） 表示的是字符数(既 位数 )，不是字节数,不管中文、字母 都是可以放4个。并且 这是固定长度，即便插入的‘aa’ 但还是会占用 4字符的 内存空间。因此可用于 固定长度格式的 类型（如 电话号码、邮箱、身份证号码 等）。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#varchar-4-%E4%B9%9F%E8%A1%A8%E7%A4%BA%E5%AD%97%E7%AC%A6%E6%95%B0%EF%BC%8C%E6%A0%B9%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%BC%96%E7%A0%81-%E6%9D%A5-%E5%AD%98%E6%94%BE%E6%95%B0%E6%8D%AE%E3%80%82%E6%8C%89%E7%85%A7-%E5%AE%9E%E9%99%85%E5%8D%A0%E7%94%A8%E7%A9%BA%E9%97%B4%E6%9D%A5%E5%88%86%E9%85%8D%E3%80%82%E5%8F%AF%E7%94%A8%E4%BA%8E-%E4%B8%8D%E7%A1%AE%E5%AE%9A%E9%95%BF%E5%BA%A6%E7%9A%84%E7%B1%BB%E5%9E%8B%E3%80%82"><span class="toc-number">5.19.</span> <span class="toc-text">varchar(4) 也表示字符数，根据表的编码 来 存放数据。按照 实际占用空间来分配。可用于 不确定长度的类型。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E9%80%9F%E5%BA%A6-%EF%BC%9A-char-varchar"><span class="toc-number">5.20.</span> <span class="toc-text">查询速度 ： char &gt; varchar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8B%A5%E6%98%AF%E5%AD%98%E6%94%BE-%E6%96%87%E6%9C%AC%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-text%E7%B1%BB%E5%9E%8B%E3%80%82"><span class="toc-number">5.21.</span> <span class="toc-text">若是存放 文本，可以使用 text类型。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.22.</span> <span class="toc-text">4. 日期类型的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8C%85%E5%90%AB%EF%BC%9Adate-%E5%B9%B4-%E6%9C%88-%E6%97%A5-%E3%80%81datetime-%E5%B9%B4-%E6%9C%88-%E6%97%A5-%E6%97%B6-%E5%88%86-%E7%A7%92-%E3%80%81timestamp-%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">5.23.</span> <span class="toc-text">数据类型包含：date(年 月 日)、datetime(年 月 日 时 分 秒)、timestamp(时间戳)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#timetamp-%E8%AF%A6%E8%A7%A3%EF%BC%9A"><span class="toc-number">5.24.</span> <span class="toc-text">timetamp 详解：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%88%B3%EF%BC%9A-%E5%BD%93-%E8%A1%A8-%E4%BF%AE%E6%94%B9%E6%88%96%E8%80%85%E6%B7%BB%E5%8A%A0%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E7%9A%84%E6%9B%B4%E6%96%B0-%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E3%80%82"><span class="toc-number">5.25.</span> <span class="toc-text">时间戳： 当 表 修改或者添加时，可以自动的更新 当前时间。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">5.26.</span> <span class="toc-text">使用：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="toc-number">6.</span> <span class="toc-text">六、修改表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B7%BB%E5%8A%A0%E5%88%97%EF%BC%9Aalter-table-%E8%A1%A8%E5%90%8D-add-%E5%88%97%E8%A1%A8-%E5%88%97%E7%B1%BB%E5%9E%8B-after-%E5%88%97%E5%90%8D-%E7%94%A8%E4%BD%9C-%E6%96%B0%E5%BB%BA%E5%88%97-%E6%94%BE%E5%9C%A8-%E5%93%AA%E4%B8%AA%E5%88%97%E7%9A%84%E5%90%8E%E9%9D%A2"><span class="toc-number">6.1.</span> <span class="toc-text">1. 添加列：alter table 表名 add 列表 列类型 (after 列名 用作 新建列 放在 哪个列的后面)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9%E5%88%97%EF%BC%9Aalter-table-%E8%A1%A8%E5%90%8D-modify-%E5%88%97%E5%90%8D-%E5%88%97%E5%B1%9E%E6%80%A7"><span class="toc-number">6.2.</span> <span class="toc-text">2. 修改列：alter table 表名 modify 列名 列属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E5%88%97%EF%BC%9Aalter-table-%E8%A1%A8%E5%90%8D-drop-%E5%88%97%E5%90%8D"><span class="toc-number">6.3.</span> <span class="toc-text">3. 删除列：alter table 表名 drop 列名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%90%8D%EF%BC%9Arename-table-%E8%A1%A8%E5%90%8D-to-%E6%96%B0%E8%A1%A8%E5%90%8D"><span class="toc-number">6.4.</span> <span class="toc-text">4. 修改表名：rename table 表名 to 新表名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%AD%97%E7%AC%A6%E9%9B%86%EF%BC%9Aalter-table-%E8%A1%A8%E5%90%8D-character-set-%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">6.5.</span> <span class="toc-text">5. 修改表字符集：alter table 表名 character set 字符集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84%EF%BC%9Adesc-%E8%A1%A8%E5%90%8D"><span class="toc-number">6.6.</span> <span class="toc-text">6. 查看表结构：desc 表名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%83%E3%80%81CRUD-%E6%93%8D%E4%BD%9C%E8%A1%A8"><span class="toc-number">7.</span> <span class="toc-text">七、CRUD 操作表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-insert%E8%AF%AD%E5%8F%A5%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">1. insert语句：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%EF%BC%9Ainsert-into-%E8%A1%A8%E5%90%8D-%E9%9C%80%E8%A6%81%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%97-%E9%BB%98%E8%AE%A4%E6%98%AF%E5%85%A8%E5%88%97%E6%B7%BB%E5%8A%A0-values-%E8%BE%93%E5%85%A5%E5%88%97%E7%9A%84%E5%80%BC"><span class="toc-number">7.2.</span> <span class="toc-text">使用：insert into 表名(需要添加数据的列 默认是全列添加) values(输入列的值)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%86%E8%8A%82%EF%BC%9Ainsert-into-%E8%A1%A8%E5%90%8D-%E5%88%97%E5%90%8D-values-%E5%8F%AF%E4%BB%A5%E5%90%8C%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">7.3.</span> <span class="toc-text">细节：insert into 表名(列名) values (),(),() 可以同时添加多条数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-update%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.4.</span> <span class="toc-text">2. update语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%EF%BC%9Aupdate-student-set-name-%E2%80%99jack%E2%80%99-age-15-where-id-1"><span class="toc-number">7.5.</span> <span class="toc-text">使用：update student set name&#x3D;’jack’,age&#x3D;15 where id&#x3D;1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-delete%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.6.</span> <span class="toc-text">3. delete语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%EF%BC%9Adelete-from-student-where-id-1-%E5%88%A0%E9%99%A4-id-1-%E7%9A%84-student%E8%A1%A8%E6%95%B0%E6%8D%AE-%E6%B2%A1%E6%9C%89where%E6%9D%A1%E4%BB%B6-%E5%88%99%E5%88%A0%E9%99%A4student%E8%A1%A8%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">7.7.</span> <span class="toc-text">使用：delete from student where id&#x3D;1;(删除 id&#x3D;1 的 student表数据 没有where条件 则删除student表全部数据)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93%E7%A2%B0%E5%88%B0You-are-using-safe-update-mode-and-you-tried-to-update-a-table-without-a-WHERE-that-uses-a-KEY-column-%E9%94%99%E8%AF%AF%E6%97%B6%EF%BC%8C%E5%8F%AF%E9%80%9A%E8%BF%87-set-sql-safe-updates-0-%E6%9D%A5%E4%BF%AE%E6%94%B9%E5%AE%89%E5%85%A8%E6%9D%83%E9%99%90"><span class="toc-number">7.8.</span> <span class="toc-text">当碰到You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column.  错误时，可通过 set sql_safe_updates&#x3D;0; 来修改安全权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-select-%E8%AF%AD%E5%8F%A5"><span class="toc-number">7.9.</span> <span class="toc-text">4. select 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-number">7.10.</span> <span class="toc-text">(1). 使用：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-distinct-from-student-%EF%BC%88%E6%9F%A5%E8%AF%A2student%E8%A1%A8-%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE-distinct%E8%A1%A8%E7%A4%BA%E4%B8%BA-%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%EF%BC%89"><span class="toc-number">7.11.</span> <span class="toc-text">select distinct * from student; （查询student表 不重复的全部数据 distinct表示为 不重复的）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-age-name-from-student-where-id-1-%EF%BC%88%E4%BB%85%E6%9F%A5%E8%AF%A2-student%E8%A1%A8%E4%B8%ADid%E4%B8%BA1%E7%9A%84-age-name-%E5%AD%97%E6%AE%B5%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%89"><span class="toc-number">7.12.</span> <span class="toc-text">select age,name from student where id&#x3D;1; （仅查询 student表中id为1的 age,name 字段的属性）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%EF%BC%9A"><span class="toc-number">7.13.</span> <span class="toc-text">(2). 使用技巧：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%88%97-%E8%BF%9B%E8%A1%8C%E8%BF%90%E7%AE%97-%E5%B9%B6%E4%B8%94-%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87-as-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%AF%B9%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C-%E5%91%BD%E5%90%8D"><span class="toc-number">7.14.</span> <span class="toc-text">使用 表达式 对查询的列 进行运算, 并且 可以通过 as 关键字 对字段进行 命名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%EF%BC%9Aselect-english-math-as-score-from-student-where-id-1"><span class="toc-number">7.15.</span> <span class="toc-text">例：select (english+math) as score from student where id&#x3D;1;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%8F%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">7.16.</span> <span class="toc-text">经常使用的运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#order-by-%E8%AF%AD%E5%8F%A5-%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">7.17.</span> <span class="toc-text">order by 语句 对查询结果进行排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-from-student-order-by-math-asc-%E9%BB%98%E8%AE%A4-%E5%8D%87%E5%BA%8F-desc-%E9%99%8D%E5%BA%8F"><span class="toc-number">7.18.</span> <span class="toc-text">select * from student order by math asc(默认 升序) &#x2F; desc(降序)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#like-%E8%AF%AD%E5%8F%A5%E6%9F%A5%E8%AF%A2-%E8%A1%A8%E7%A4%BA%E4%BB%BB%E6%84%8F%E5%AD%97%E7%AC%A6"><span class="toc-number">7.19.</span> <span class="toc-text">like 语句查询(_:表示任意字符)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-from-emp-where-user-name-like-%E2%80%98-%E6%A2%81-%E2%80%99-%E6%9F%A5%E8%AF%A2-%E5%90%8D%E5%AD%97-%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%AD%97%E7%AC%A6%E6%98%AF-%E6%A2%81%E7%9A%84-%E5%91%98%E5%B7%A5%E8%A1%A8"><span class="toc-number">7.20.</span> <span class="toc-text">select *from emp where user_name like ‘__梁%’; &#x2F;&#x2F;查询 名字 第三个字符是 梁的 员工表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#limit-%E8%AF%AD%E5%8F%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">7.21.</span> <span class="toc-text">limit 语句查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-from-student-where-id-limit-5-offset-5-%E6%8B%BF%E5%88%B0%E5%89%8D%E4%BA%94%E4%B8%AAid-%E4%BB%8E5%E4%B8%AA%E5%BC%80%E5%A7%8B%E6%8B%BF"><span class="toc-number">7.22.</span> <span class="toc-text">select *from student where id limit 5 offset 5; &#x2F;&#x2F;拿到前五个id 从5个开始拿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">八、函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="toc-number">8.1.</span> <span class="toc-text">(1). 统计函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-count%EF%BC%88%E7%BB%9F%E8%AE%A1%E3%80%81%E5%90%88%E8%AE%A1%EF%BC%89%E5%87%BD%E6%95%B0%EF%BC%9Aselect-count-from-student-where-math-80-%E6%9F%A5%E8%AF%A2%E6%95%B0%E5%AD%A6%E6%88%90%E7%BB%A9%E9%AB%98%E4%BA%8E80%E7%9A%84-%E5%AD%A6%E7%94%9F%E6%80%BB%E6%95%B0"><span class="toc-number">8.2.</span> <span class="toc-text">1. count（统计、合计）函数：select count(*) from student where math&gt;80  &#x2F;&#x2F; 查询数学成绩高于80的 学生总数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-sum-%E5%90%88%E8%AE%A1-%E4%B8%BB%E8%A6%81%E7%94%A8%E4%BA%8E-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B-%E7%9A%84%E7%BB%9F%E8%AE%A1-%E5%87%BD%E6%95%B0%EF%BC%9A-select-sum-math-from-student-%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84-%E6%95%B0%E5%AD%A6%E6%80%BB%E5%88%86"><span class="toc-number">8.3.</span> <span class="toc-text">2. sum(合计 主要用于 数值类型 的统计)函数： select sum(math) from student; &#x2F;&#x2F;查询所有学生的 数学总分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-avg-%E7%BB%9F%E8%AE%A1-%E5%B9%B3%E5%9D%87%E5%88%86-%E7%94%A8%E4%BA%8E%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B-%E5%87%BD%E6%95%B0%EF%BC%9A-select-avg-math-from-student-%E6%9F%A5%E8%AF%A2-%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E6%95%B0%E5%AD%A6%E6%88%90%E7%BB%A9%E7%9A%84-%E5%B9%B3%E5%9D%87%E5%88%86"><span class="toc-number">8.4.</span> <span class="toc-text">3. avg(统计 平均分 用于数值类型)函数： select avg(math) from student;  &#x2F;&#x2F;查询 所有学生数学成绩的 平均分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-max-%E5%BE%97%E5%88%B0-%E6%9C%80%E5%A4%A7%E5%80%BC%EF%BC%8C%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B-%E5%87%BD%E6%95%B0%E3%80%81min-%E5%BE%97%E5%88%B0%E6%9C%80%E5%B0%8F%E5%80%BC-%E5%87%BD%E6%95%B0%EF%BC%9Aselect-max-math-min-math-from-student-%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E8%A1%A8%E7%9A%84-%E6%9C%80%E5%A4%A7%E6%95%B0%E5%AD%A6%E6%88%90%E7%BB%A9-%E4%B8%8E-%E6%9C%80%E5%B0%8F%E6%95%B0%E5%AD%A6%E6%88%90%E7%BB%A9%E3%80%82"><span class="toc-number">8.5.</span> <span class="toc-text">4. max(得到 最大值，数值类型) 函数、min(得到最小值)函数：select max(math),min(math) from student; &#x2F;&#x2F;查询学生表的 最大数学成绩 与 最小数学成绩。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">8.6.</span> <span class="toc-text">(2). 字符串函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">8.7.</span> <span class="toc-text">(3). 日期函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#last-day%EF%BC%88%EF%BC%89%EF%BC%9A%E8%BF%94%E5%9B%9E%E8%AF%A5%E6%97%A5%E6%9C%9F-%E6%89%80%E5%9C%A8%E6%9C%88%E4%BB%BD%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%A4%A9%E7%9A%84%E6%97%A5%E6%9C%9F-%E5%A6%82-last-day-%E2%80%982022-10-5%E2%80%99-2022-10-31-%E3%80%82"><span class="toc-number">8.8.</span> <span class="toc-text">last_day（）：返回该日期 所在月份的最后一天的日期 如 last_day(‘2022.10.5’) &#x3D; 2022.10.31 。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%95%B0%E5%AD%A6%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0"><span class="toc-number">8.9.</span> <span class="toc-text">(4). 数学相关函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%8A%A0%E5%AF%86%E4%B8%8E%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">8.10.</span> <span class="toc-text">(5).  加密与系统函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="toc-number">8.11.</span> <span class="toc-text">(6). 流程控制函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%9D%E3%80%81mysql-%E8%A1%A8%E6%9F%A5%E8%AF%A2%E5%8A%A0%E5%BC%BA"><span class="toc-number">9.</span> <span class="toc-text">九、mysql 表查询加强</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2%EF%BC%9Aselect-from-emp-limit-%E6%AF%8F%E9%A1%B5%E6%98%BE%E7%A4%BA%E8%AE%B0%E5%BD%95%E6%95%B0-%E7%AC%AC%E5%87%A0%E9%A1%B5-1-%E6%AF%8F%E9%A1%B5%E6%98%BE%E7%A4%BA%E8%AE%B0%E5%BD%95%E6%95%B0"><span class="toc-number">9.1.</span> <span class="toc-text">(1). 分页查询：select * from emp limit 每页显示记录数 * (第几页-1),每页显示记录数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-from-emp-limit-3-2-3-%E6%98%BE%E7%A4%BA-%E7%AC%AC3%E9%A1%B5%E7%9A%84-%E4%B8%89%E6%9D%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">9.2.</span> <span class="toc-text">select * from emp limit 3 * 2,3  &#x2F;&#x2F; 显示 第3页的 三条数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%A4%9A%E5%AD%90%E5%8F%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F-%E5%90%84%E5%AD%90%E5%8F%A5%E6%9D%A1%E4%BB%B6%E7%9A%84%E9%A1%BA%E5%BA%8F-%E4%BE%9D%E6%AC%A1%E4%B8%BA-group-by-having-order-by-limit"><span class="toc-number">9.3.</span> <span class="toc-text">(2). 多子句查询：需要注意 各子句条件的顺序 依次为 group by-&gt; having-&gt; order by-&gt; limit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-avg-sal-as-avgfrom-emp-group-by-deptno-havingavg-1000-order-by-avg-desc-limit-0-2"><span class="toc-number">9.4.</span> <span class="toc-text">select avg(sal) as avgfrom emp group by deptno  havingavg&gt;1000  order by avg desc limit 0,2;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.5.</span> <span class="toc-text">(3). 多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E9%9B%86%EF%BC%9A%E5%BD%93%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%EF%BC%88%E8%B5%B7%E7%A0%81%E6%9F%A5%E8%AF%A22%E4%B8%AA%E6%88%96%E4%BB%A5%E4%B8%8A%E7%9A%84%E8%A1%A8%EF%BC%89%E6%97%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E6%B7%BB%E5%8A%A0%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E4%B8%8B%EF%BC%8Cmysql%E4%BC%9A%E8%87%AA%E5%8A%A8%E4%BB%A5-%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%A1%A8%E4%B8%AD%EF%BC%8C%E5%8F%96%E5%87%BA%E4%B8%80%E8%A1%8C-%E5%8E%BB%E4%B8%8E-%E7%AC%AC%E4%BA%8C%E5%BC%A0%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E8%BF%9B%E8%A1%8C%E7%BB%84%E5%90%88%E3%80%82%E8%BF%99%E6%A0%B7%E6%9F%A5%E8%AF%A2%E5%87%BA%E6%9D%A5%E7%9A%84%E7%BB%93%E6%9E%9C-%E5%B0%B1%E5%8F%AB-%E7%AC%9B%E5%8D%A1%E5%B0%94%E9%9B%86%E3%80%82%E5%A6%82-1%E8%A1%A8%E6%9C%893%E8%A1%8C%E6%95%B0%E6%8D%AE-2%E8%A1%A8%E6%9C%894%E8%A1%8C%E6%95%B0%E6%8D%AE-%EF%BC%8C%E7%AC%9B%E5%8D%A1%E5%B0%94%E6%9F%A5%E8%AF%A2%E5%90%8E-%E6%9C%89-12%E6%9D%A1%E6%95%B0%E6%8D%AE%E3%80%82"><span class="toc-number">9.5.1.</span> <span class="toc-text">笛卡尔集：当进行多表查询（起码查询2个或以上的表）时，如果没有添加条件语句下，mysql会自动以 第一个表中，取出一行 去与 第二张表中的每一行进行组合。这样查询出来的结果 就叫 笛卡尔集。如 1表有3行数据 2表有4行数据 ，笛卡尔查询后 有 12条数据。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%EF%BC%9Aselect-ename-sal-dname-from-emp-dept-where-emp-deptno-dept-deptno"><span class="toc-number">9.5.2.</span> <span class="toc-text">多表查询语句：select ename,sal,dname from emp,dept where emp.deptno&#x3D;dept.deptno;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5%EF%BC%9A%E6%8A%8A%E4%B8%80%E5%BC%A0%E8%A1%A8-%E5%BD%93%E6%88%90%E4%B8%A4%E5%BC%A0%E8%A1%A8%E4%BD%BF%E7%94%A8-%E9%80%9A%E5%B8%B8%E8%BF%90%E7%94%A8%E4%B8%8E-%E8%A1%8C%E4%B8%8E%E8%A1%8C%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E5%8A%A8"><span class="toc-number">9.5.3.</span> <span class="toc-text">自连接：把一张表 当成两张表使用 通常运用与 行与行之间的联动</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.6.</span> <span class="toc-text">(4). 子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AB%E4%B9%89%EF%BC%9A%E6%8C%87-%E5%B5%8C%E5%85%A5%E5%9C%A8%E5%85%B6%E5%AE%83sql%E8%AF%AD%E5%8F%A5%E4%B8%AD%E7%9A%84-select%E8%AF%AD%E5%8F%A5%E3%80%82"><span class="toc-number">9.7.</span> <span class="toc-text">含义：指 嵌入在其它sql语句中的 select语句。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A%E5%8F%AA%E8%BF%94%E5%9B%9E%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">9.8.</span> <span class="toc-text">单行子查询：只返回一行数据的子查询语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A%E8%BF%94%E5%9B%9E%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%85%B3%E9%94%AE%E5%AD%97-in"><span class="toc-number">9.9.</span> <span class="toc-text">多行子查询：返回多行数据的子查询，可以使用关键字 in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97all-%E6%8C%87%E4%BB%A3%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE-%E3%80%81any-%E6%8C%87%E4%BB%A3-%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">9.10.</span> <span class="toc-text">关键字all(指代所有数据)、any(指代 任意一个)的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97%E4%B9%9F%E6%98%AF%E9%92%88%E5%AF%B9-%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%9D%A5%E8%BF%9B%E8%A1%8C-%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89"><span class="toc-number">9.10.1.</span> <span class="toc-text">两个关键字也是针对 多行数据来进行 条件筛选</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BD%9C%E4%B8%BA%E4%B8%B4%E6%97%B6%E8%A1%A8"><span class="toc-number">9.11.</span> <span class="toc-text">子查询作为临时表</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E5%B8%B8%E9%9D%A2%E5%AF%B9%E5%A4%8D%E6%9D%82%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E8%AE%A9%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E8%A1%A8%E6%9D%A5-%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.11.1.</span> <span class="toc-text">通常面对复杂的查询时，需要让子查询作为一个临时表来 进行多表查询</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%90%88%E5%B9%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.12.</span> <span class="toc-text">(5). 合并查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AB%E4%B9%89%EF%BC%9A%E5%BD%93%E9%9C%80%E8%A6%81%E5%B0%86%E4%B8%A4%E6%9D%A1%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E7%9A%84%E7%BB%93%E6%9E%9C-%E8%BF%9B%E8%A1%8C%E5%90%88%E5%B9%B6%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%85%B3%E9%94%AE%E5%AD%97-union%E3%80%81unnion-all"><span class="toc-number">9.13.</span> <span class="toc-text">含义：当需要将两条查询语句的结果 进行合并时，可以使用关键字 union、unnion all</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E8%A1%A8%E5%A4%8D%E5%88%B6%E4%B8%8E%E5%8E%BB%E9%87%8D"><span class="toc-number">10.</span> <span class="toc-text">十、表复制与去重</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AB%E4%B9%89%EF%BC%9A%E5%BD%93%E9%9C%80%E8%A6%81%E9%92%88%E5%AF%B9sql%E8%AF%AD%E5%8F%A5%E8%BF%9B%E8%A1%8C%E6%95%88%E7%8E%87%E6%B5%8B%E8%AF%95%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E6%9C%89%E4%B8%80%E4%B8%AA%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%A8%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95%EF%BC%8C%E8%BF%99%E6%98%AF%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%A1%A8%E5%A4%8D%E5%88%B6%E3%80%82%E6%AD%A4%E5%A4%96%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%BA%8E%E4%B8%80%E4%B8%AA%E8%A1%A8-%E5%AF%B9%E5%8F%A6%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%9A%84-%E5%BF%AB%E9%80%9F%E8%B5%8B%E5%80%BC"><span class="toc-number">10.1.</span> <span class="toc-text">含义：当需要针对sql语句进行效率测试时，需要有一个大量数据的表进行测试，这是就可以使用表复制。此外，也可以用于一个表 对另一个表的 快速赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%BB%E9%87%8D%EF%BC%9A%E5%BD%93%E8%A1%A8%E4%B8%AD-%E5%AD%98%E5%9C%A8-%E5%A4%A7%E9%87%8F%E7%9A%84%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E5%8E%BB%E9%87%8D%E5%A4%84%E7%90%86"><span class="toc-number">10.2.</span> <span class="toc-text">去重：当表中 存在 大量的重复数据时，可以进行去重处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">11.</span> <span class="toc-text">十一、外连接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AB%E4%B9%89%EF%BC%9A%E5%BD%93%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%97%B6%EF%BC%8C%E8%8B%A5%E9%9C%80%E8%A6%81%E4%B8%A4%E8%A1%A8-%E5%85%B6%E4%B8%AD%E4%B8%80%E8%A1%A8-%E4%B8%8D%E9%9C%80%E8%A6%81%E7%AC%A6%E5%90%88-%E4%B8%A4%E8%A1%A8%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6-%E4%B9%9F%E8%83%BD%E6%98%BE%E7%A4%BA-%E5%88%99%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">11.1.</span> <span class="toc-text">含义：当进行多表查询时，若需要两表 其中一表 不需要符合 两表匹配条件 也能显示 则可以使用 外连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%EF%BC%9A%E5%B7%A6%E8%BF%9E%E6%8E%A5%EF%BC%88%E5%B7%A6%E8%A1%A8%E5%AE%8C%E5%85%A8%E6%98%BE%E7%A4%BA%EF%BC%89%E3%80%81%E5%8F%B3%E8%BF%9E%E6%8E%A5%EF%BC%88%E5%8F%B3%E8%A1%A8%E5%AE%8C%E5%85%A8%E6%98%BE%E7%A4%BA%EF%BC%89"><span class="toc-number">11.2.</span> <span class="toc-text">分类：左连接（左表完全显示）、右连接（右表完全显示）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">11.3.</span> <span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81mysql%E7%BA%A6%E6%9D%9F"><span class="toc-number">12.</span> <span class="toc-text">十二、mysql约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-primary-key-%E4%B8%BB%E9%94%AE"><span class="toc-number">12.1.</span> <span class="toc-text">(1).  primary key 主键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%A4%84%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%94%AF%E4%B8%80%E8%A1%A8%E7%A4%BA-%E8%A1%A8%E8%A1%8C%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%BD%93%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%E5%90%8E%EF%BC%8C%E8%AF%A5%E5%88%97%E4%B8%8D%E8%83%BD%E9%87%8D%E5%A4%8D%E3%80%82%E6%97%A2%E8%AF%A5%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%B8%8D%E8%83%BD%E6%9C%89%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%E3%80%82"><span class="toc-number">12.2.</span> <span class="toc-text">用处：用于唯一表示 表行的数据，当定义主键约束后，该列不能重复。既该列的数据，不能有重复数据。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%A4%84%E7%BB%86%E8%8A%82%EF%BC%9A"><span class="toc-number">12.3.</span> <span class="toc-text">用处细节：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#primary-key-%E4%B8%BB%E9%94%AE-%E4%B8%8D%E8%83%BD%E9%87%8D%E5%A4%8D%E8%80%8C%E4%B8%94%E4%B8%8D%E8%83%BD%E4%B8%BA-null"><span class="toc-number">12.4.</span> <span class="toc-text">primary key 主键 不能重复而且不能为 null</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E5%BC%A0%E8%A1%A8-%E6%9C%80%E5%A4%9A%E5%8F%AA%E8%83%BD%E6%9C%89%E4%B8%80%E4%B8%AA%E4%B8%BB%E9%94%AE%E3%80%82%E4%BD%86%E5%8F%AF%E4%BB%A5%E5%AD%98%E5%9C%A8-%E5%A4%8D%E5%90%88%E4%B8%BB%E9%94%AE"><span class="toc-number">12.5.</span> <span class="toc-text">一张表 最多只能有一个主键。但可以存在 复合主键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-desc-%E6%9D%A5%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84%EF%BC%8C%E5%85%B6%E4%B8%AD%E5%B0%B1%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B-%E4%B8%BB%E9%94%AE%E4%BF%A1%E6%81%AF"><span class="toc-number">12.6.</span> <span class="toc-text">可以使用 desc 来查看表结构，其中就可以查看 主键信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-not-null%EF%BC%88%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%89%E4%B8%8E-unique%EF%BC%88%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%EF%BC%89"><span class="toc-number">12.7.</span> <span class="toc-text">(2). not null（非空约束）与 unique（唯一约束）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%A4%84%EF%BC%9A%E8%A2%AB-not-null-%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%95%B0%E6%8D%AE%E4%B8%8D%E8%83%BD%E4%B8%BA-null%E3%80%82-%E8%80%8C%E8%A2%AB-nuique-%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%AD%97%E6%AE%B5-%E5%88%99-%E6%95%B0%E6%8D%AE%E4%B8%8D%E8%83%BD%E9%87%8D%E5%A4%8D%E3%80%82"><span class="toc-number">12.8.</span> <span class="toc-text">用处：被 not null 约束的字段，数据不能为 null。 而被 nuique 约束的字段 则 数据不能重复。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82%EF%BC%9A-1"><span class="toc-number">12.9.</span> <span class="toc-text">使用细节：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E6%8C%87%E5%AE%9A-not-null%EF%BC%8C%E5%88%99-unique-%E5%AD%97%E6%AE%B5-%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E4%B8%AA-null%E5%80%BC-%E6%97%A2%E7%A9%BA%E5%80%BC%E3%80%82"><span class="toc-number">12.10.</span> <span class="toc-text">如果没有指定 not null，则 unique 字段 可以有多个 null值 既空值。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E5%BC%A0%E8%A1%A8-%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%A4%9A%E4%B8%AA-unique-%E5%AD%97%E6%AE%B5%E3%80%82"><span class="toc-number">12.11.</span> <span class="toc-text">一张表 可以有多个 unique 字段。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-foreign-key%EF%BC%88%E5%A4%96%E9%94%AE%EF%BC%89"><span class="toc-number">12.12.</span> <span class="toc-text">(3). foreign key（外键）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%A4%84%EF%BC%9A%E5%BD%93-%E4%B8%80%E5%BC%A0%E8%A1%A8%E4%B8%AD%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%88%E4%BB%8E%E8%A1%A8%EF%BC%89-%E9%9C%80%E8%A6%81%E4%B8%8E-%E5%8F%A6%E4%B8%80%E5%BC%A0%E8%A1%A8%E7%9A%84%E5%AD%97%E6%AE%B5%EF%BC%88%E4%B8%BB%E8%A1%A8%EF%BC%89-%E8%BF%9B%E8%A1%8C%E5%85%B3%E8%81%94-%E4%BB%A5%E6%AD%A4%E6%9D%A5%E8%BF%9B%E8%A1%8C-%E4%B8%A4%E8%A1%A8%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E3%80%82"><span class="toc-number">12.13.</span> <span class="toc-text">用处：当 一张表中其中一个字段（从表） 需要与 另一张表的字段（主表） 进行关联 以此来进行 两表之间进行多表查询。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%99%E6%A0%B7-%E5%B0%B1%E9%9C%80%E8%A6%81-%E7%94%A8%E5%A4%96%E9%94%AE%E6%9D%A5-%E5%AF%B9%E4%BB%8E%E8%A1%A8%E7%9A%84-%E5%85%B3%E8%81%94%E5%AD%97%E6%AE%B5-%E8%BF%9B%E8%A1%8C-%E4%B8%8E%E4%B8%BB%E8%A1%A8%E7%9A%84%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5-%E8%BF%9B%E8%A1%8C-%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%E3%80%82"><span class="toc-number">12.14.</span> <span class="toc-text">这样 就需要 用外键来 对从表的 关联字段 进行 与主表的其中一个字段 进行 外键约束。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%B3%95%EF%BC%9A-foreign-key-%E6%9C%AC%E5%AD%97%E6%AE%B5%E5%90%8D-references-%E4%B8%BB%E8%A1%A8%E5%90%8D"><span class="toc-number">12.15.</span> <span class="toc-text">用法： foreign key (本字段名) references 主表名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82%EF%BC%9A-2"><span class="toc-number">12.16.</span> <span class="toc-text">使用细节：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%94%AE-%E6%8C%87%E5%90%91%E7%9A%84%E8%A1%A8%E5%AD%97%E6%AE%B5-%E8%A6%81%E6%B1%82%E5%BF%85%E9%A1%BB%E6%98%AF-primary-key-%E6%88%96%E6%98%AF-unique-%E5%AD%97%E6%AE%B5%E3%80%82%E6%97%A2%E8%A6%81%E9%81%BF%E5%85%8D-%E8%AF%A5%E5%AD%97%E6%AE%B5%E6%98%AF-%E5%8F%AF%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%97%E6%AE%B5"><span class="toc-number">12.17.</span> <span class="toc-text">外键 指向的表字段 要求必须是 primary key 或是 unique 字段。既要避免 该字段是 可重复数据的字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E7%B1%BB%E5%9E%8B-%E6%98%AF-innodb%EF%BC%8C%E8%BF%99%E6%A0%B7%E7%9A%84%E8%A1%A8-%E6%89%8D%E8%83%BD%E6%94%AF%E6%8C%81-%E5%A4%96%E9%94%AE"><span class="toc-number">12.18.</span> <span class="toc-text">表的类型 是 innodb，这样的表 才能支持 外键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E5%AD%97%E6%AE%B5%E7%9A%84%E7%B1%BB%E5%9E%8B-%E8%A6%81%E4%B8%8E-%E4%B8%BB%E9%94%AE%E5%AD%97%E6%AE%B5%E7%9A%84%E7%B1%BB%E5%9E%8B-%E4%B8%80%E6%A0%B7%E3%80%82%EF%BC%88%E9%95%BF%E5%BA%A6%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A0%B7%EF%BC%89"><span class="toc-number">12.19.</span> <span class="toc-text">外键字段的类型 要与 主键字段的类型 一样。（长度可以是不一样）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E5%AD%97%E6%AE%B5%E7%9A%84%E5%80%BC%EF%BC%8C%E5%BF%85%E9%A1%BB%E5%9C%A8%E4%B8%BB%E9%94%AE%E5%AD%97%E6%AE%B5%E4%B8%AD%E5%87%BA%E7%8E%B0%E8%BF%87%EF%BC%8C%E6%88%96%E8%80%85%E4%B8%BAnull%E5%80%BC%E3%80%82"><span class="toc-number">12.20.</span> <span class="toc-text">外键字段的值，必须在主键字段中出现过，或者为null值。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E6%97%A6%E5%BB%BA%E7%AB%8B%E4%BA%86%E4%B8%BB%E5%A4%96%E9%94%AE%E8%81%94%E7%B3%BB%EF%BC%8C%E4%B8%BB%E8%A1%A8%E7%9A%84%E8%AF%A5%E4%B8%BB%E9%94%AE%E5%B1%9E%E6%80%A7-%E5%B0%B1%E4%B8%8D%E8%83%BD%E9%9A%8F%E6%84%8F%E5%88%A0%E9%99%A4%E3%80%82"><span class="toc-number">12.21.</span> <span class="toc-text">一旦建立了主外键联系，主表的该主键属性 就不能随意删除。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-check-%E7%BA%A6%E6%9D%9F"><span class="toc-number">12.22.</span> <span class="toc-text">(4). check 约束</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%A4%84%EF%BC%9A%E5%8F%AF%E4%BB%A5%E8%AE%A9-%E7%BA%A6%E6%9D%9F%E5%AD%97%E6%AE%B5%E7%9A%84%E6%95%B0%E6%8D%AE-%E9%9C%80%E8%A6%81%E7%AC%A6%E5%90%88%E8%AF%A5-check%E7%BA%A6%E6%9D%9F%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%89%8D%E8%83%BD%E6%B7%BB%E5%8A%A0%E6%88%90%E5%8A%9F%E3%80%82"><span class="toc-number">12.23.</span> <span class="toc-text">用处：可以让 约束字段的数据 需要符合该 check约束的条件才能添加成功。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%B3%95%EF%BC%9A"><span class="toc-number">12.24.</span> <span class="toc-text">用法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9Amysql5-7-%E4%B8%8D%E6%94%AF%E6%8C%81-check%E8%AF%AD%E6%B3%95%EF%BC%8C%E4%BD%86-oracle-%E4%B8%8E-sqlServer-%E6%95%B0%E6%8D%AE%E5%BA%93-%E6%94%AF%E6%8C%81%E3%80%82"><span class="toc-number">12.25.</span> <span class="toc-text">注意：mysql5.7 不支持 check语法，但 oracle 与 sqlServer 数据库 支持。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%87%AA%E5%A2%9E%E9%95%BF"><span class="toc-number">12.26.</span> <span class="toc-text">(5). 自增长</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E5%A4%84%EF%BC%9A%E5%BD%93%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA-id%E5%88%97%E6%97%B6%EF%BC%8C%E6%88%91%E4%BB%AC%E5%B8%8C%E6%9C%9B%E5%AE%83%E8%83%BD%E5%A4%9F-%E5%9C%A8%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E6%97%B6%EF%BC%8C%E8%87%AA%E5%8A%A8%E5%A2%9E%E9%95%BF%E6%95%B0%E5%80%BC%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BA%BA%E4%B8%BA%E6%B7%BB%E5%8A%A0%E3%80%82%E8%BF%99%E6%97%B6%E5%B0%B1%E5%8F%AF%E4%BB%A5-%E6%8A%8Aid-%E8%AE%BE%E7%BD%AE%E4%B8%BA-%E8%87%AA%E5%A2%9E%E9%95%BF%E3%80%82"><span class="toc-number">12.27.</span> <span class="toc-text">用处：当定义一个 id列时，我们希望它能够 在添加数据时，自动增长数值，不需要人为添加。这时就可以 把id 设置为 自增长。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%B3%95%EF%BC%9A-1"><span class="toc-number">12.28.</span> <span class="toc-text">用法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82%EF%BC%9A-3"><span class="toc-number">12.29.</span> <span class="toc-text">使用细节：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E6%9D%A5%E8%AF%B4%EF%BC%8C%E8%87%AA%E5%A2%9E%E9%95%BF%E6%98%AF%E9%85%8D%E5%90%88-primary-key-%E4%BD%BF%E7%94%A8%E7%9A%84%E3%80%82"><span class="toc-number">12.30.</span> <span class="toc-text">一般来说，自增长是配合 primary key 使用的。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C-%E6%83%B3%E8%A6%81%E8%87%AA%E5%A2%9E%E9%95%BF%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E9%85%8D%E5%90%88-unique-%E4%BD%BF%E7%94%A8%E3%80%82%E6%97%A2-%E9%81%BF%E5%85%8D-%E8%87%AA%E5%A2%9E%E9%95%BF%E5%AD%97%E6%AE%B5-%E6%95%B0%E6%8D%AE%E9%87%8D%E5%A4%8D%E3%80%82"><span class="toc-number">12.31.</span> <span class="toc-text">如果 想要自增长单独使用，则需要配合 unique 使用。既 避免 自增长字段 数据重复。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E%E9%95%BF%E7%9A%84-%E5%AD%97%E6%AE%B5-%E9%80%9A%E5%B8%B8%E4%B8%BA-%E6%95%B4%E6%95%B0%E5%9E%8B%E3%80%82"><span class="toc-number">12.32.</span> <span class="toc-text">自增长的 字段 通常为 整数型。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E%E9%95%BF-%E9%BB%98%E8%AE%A4%E4%BB%8E1%E5%BC%80%E5%A7%8B%EF%BC%8C%E5%BD%93%E7%84%B6-%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87-alter-table-%E8%A1%A8%E5%90%8D-auto-increment-xxx-%E6%9D%A5%E4%BF%AE%E6%94%B9%E8%87%AA%E5%A2%9E%E9%95%BF%E7%9A%84-%E8%B5%B7%E5%A7%8B%E5%80%BC"><span class="toc-number">12.33.</span> <span class="toc-text">自增长 默认从1开始，当然 可以通过 alter table 表名 auto_increment &#x3D;xxx; 来修改自增长的 起始值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E7%B4%A2%E5%BC%95"><span class="toc-number">13.</span> <span class="toc-text">十三、索引</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%94%A8%E5%A4%84%EF%BC%9A%E5%BD%93%E9%9D%A2%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BE%88%E5%A4%9A%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E9%9C%80%E8%A6%81%E6%9F%A5%E6%89%BE%E5%85%B6%E4%B8%AD%E4%B8%80%E6%9D%A1%E6%95%B0%E6%8D%AE-%E6%95%88%E7%8E%87%E6%98%AF%E9%9D%9E%E5%B8%B8%E6%85%A2%E7%9A%84%E3%80%82%E8%BF%99%E6%97%B6%E5%80%99-%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95-%E6%9D%A5%E5%AF%B9-%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E5%AF%B9%E5%BA%94%E7%9A%84%E5%88%97%E6%9D%A5-%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95%EF%BC%88%E5%A6%82-where-id-45-%E7%BB%99-id%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95%EF%BC%89%EF%BC%8C%E4%BB%A5%E6%AD%A4%E6%9D%A5%E6%8F%90%E5%8D%87%E6%9F%A5%E8%AF%A2%E6%95%88%E7%8E%87%E3%80%82"><span class="toc-number">13.1.</span> <span class="toc-text">(1) 用处：当面对数据很多的情况下，需要查找其中一条数据 效率是非常慢的。这时候 就可以使用索引 来对 查询条件对应的列来 添加索引（如 where id&#x3D;45,给 id添加索引），以此来提升查询效率。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9C%BA%E5%88%B6%EF%BC%88%E8%A7%A3%E5%86%B3%E4%B8%89%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%89"><span class="toc-number">13.2.</span> <span class="toc-text">(2)  机制（解决三个问题）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B2%A1%E6%9C%89%E7%B4%A2%E5%BC%95-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%85%A2%EF%BC%9F%EF%BC%9A-%E6%AD%A3%E5%B8%B8%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%A6%82%E6%9E%9C%E8%A6%81%E6%9F%A5%E8%AF%A2%E6%9F%90%E6%9D%A1%E8%AF%AD%E5%8F%A5%EF%BC%8Cmysql%E6%98%AF-%E5%85%A8%E8%A1%A8%E6%89%AB%E9%9D%A2%E6%9F%A5%E8%AF%A2%E7%9A%84%EF%BC%88%E6%97%A2-%E4%B8%80%E6%9D%A1%E4%B8%80%E6%9D%A1%E7%9A%84%E6%9F%A5%E8%AF%A2%EF%BC%89%E3%80%82%E8%BF%99%E6%A0%B7%E5%B0%B1%E4%BC%9A%E6%95%88%E7%8E%87%E5%BE%88%E6%85%A2%EF%BC%8C%E5%8D%B3%E4%BD%BF-%E8%A2%AB%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%95%B0%E6%8D%AE-%E7%AC%AC%E4%B8%80%E6%9D%A1%E5%B0%B1%E7%AC%A6%E5%90%88%E6%9D%A1%E4%BB%B6-%E4%BE%9D%E7%84%B6%E4%BC%9A-%E5%85%A8%E8%A1%A8%E9%81%8D%E5%8E%86%E6%9F%A5%E8%AF%A2%E3%80%82"><span class="toc-number">13.3.</span> <span class="toc-text">1. 没有索引 为什么会慢？： 正常情况下，如果要查询某条语句，mysql是 全表扫面查询的（既 一条一条的查询）。这样就会效率很慢，即使 被查询的数据 第一条就符合条件 依然会 全表遍历查询。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%98%E5%BF%AB%EF%BC%9F%EF%BC%9A-%E5%9C%A8%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E4%BC%9A%E5%AF%B9-%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%97-%E8%BF%9B%E8%A1%8C-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8C%96%E7%9A%84%E5%A4%84%E7%90%86-%E5%A6%82-%E8%BF%9B%E8%A1%8C-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E7%B4%A2%E5%BC%95%E3%80%81B-%E6%A0%91%E7%AD%89-%E4%BE%BF%E4%BA%8E%E6%9F%A5%E8%AF%A2-%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%82%E8%BF%99%E6%A0%B7-%E8%87%AA%E7%84%B6%E4%BC%9A%E5%A2%9E%E5%8A%A0%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%95%88%E7%8E%87%E3%80%82"><span class="toc-number">13.4.</span> <span class="toc-text">2. 使用索引 为什么变快？： 在使用索引的情况下，会对 添加索引的列 进行 数据结构化的处理 如 进行 二叉树的索引、B+树等 便于查询 的数据结构。这样 自然会增加查询的效率。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BB%A3%E4%BB%B7%EF%BC%9A-%E5%85%B6%E4%B8%80%EF%BC%8C%E4%BC%9A%E5%AF%B9%E8%A1%A8%E7%9A%84%E7%A9%BA%E9%97%B4%E5%A2%9E%E5%A4%A7%EF%BC%8C%E4%B8%80%E5%AE%9A%E7%A8%8B%E5%BA%A6%E4%B8%8A%E5%8A%A0%E5%A4%A7%E4%BA%86%E7%A3%81%E7%9B%98%E7%9A%84%E5%8D%A0%E7%94%A8%E3%80%82-%E5%85%B6%E4%BA%8C%EF%BC%8C%E4%BC%9A%E5%AF%B9dml-insert%E3%80%81update%E3%80%81delete-%E8%AF%AD%E5%8F%A5-%E7%9A%84%E6%95%88%E7%8E%87%E6%9C%89%E6%89%80%E5%BD%B1%E5%93%8D%E3%80%82%E5%9B%A0%E4%B8%BA%EF%BC%8C%E6%AF%8F%E6%AC%A1%E4%BF%AE%E6%94%B9%E8%A1%A8%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%83%BD%E9%9C%80%E8%A6%81%E5%8E%BB%E7%BB%B4%E6%8A%A4-%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%82"><span class="toc-number">13.5.</span> <span class="toc-text">3. 使用索引的代价： 其一，会对表的空间增大，一定程度上加大了磁盘的占用。 其二，会对dml(insert、update、delete) 语句 的效率有所影响。因为，每次修改表数据，都需要去维护 索引的数据结构。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">13.6.</span> <span class="toc-text">(3) 索引的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95-primary-key-%EF%BC%9A%E6%97%A2-%E6%8A%8A%E5%88%97%E8%AE%BE%E7%BD%AE%E4%B8%BA%E4%B8%BB%E9%94%AE%EF%BC%8C%E4%BC%9A%E8%87%AA%E5%8A%A8%E7%9A%84%E5%AE%9A%E4%B9%89%E4%BA%8E-%E5%88%9B%E5%BB%BA%E4%BA%86-%E4%B8%BB%E7%B4%A2%E5%BC%95-primary-key"><span class="toc-number">13.7.</span> <span class="toc-text">主键索引(primary key)：既 把列设置为主键，会自动的定义于 创建了 主索引(primary key)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95-unique-%EF%BC%9A%E6%B7%BB%E5%8A%A0%E8%AF%A5%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%88%99-%E8%AF%A5%E5%88%97%E7%9A%84%E5%80%BC-%E5%BF%85%E9%A1%BB%E6%98%AF%E5%94%AF%E4%B8%80%EF%BC%8C%E4%B8%8D%E8%83%BD%E9%87%8D%E5%A4%8D"><span class="toc-number">13.8.</span> <span class="toc-text">唯一索引(unique)：添加该索引，则 该列的值 必须是唯一，不能重复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95-index-%EF%BC%9A%E6%97%A2%E6%AD%A3%E5%B8%B8%E7%9A%84-%E5%AF%B9%E8%AF%A5%E5%88%97-%E8%BF%9B%E8%A1%8C%E7%B4%A2%E5%BC%95%E3%80%82%E6%B2%A1%E5%95%A5%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">13.9.</span> <span class="toc-text">普通索引(index)：既正常的 对该列 进行索引。没啥约束条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95-fulltext-%EF%BC%9A%E9%80%82%E7%94%A8%E4%BA%8EMyIsam-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%95%E6%93%8E-%E5%B0%91%E7%94%A8"><span class="toc-number">13.10.</span> <span class="toc-text">全文索引(fulltext)：适用于MyIsam 数据库引擎(少用)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">13.11.</span> <span class="toc-text">(4) 索引的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%E7%9A%84%E8%A7%84%E5%88%99"><span class="toc-number">13.12.</span> <span class="toc-text">(5) 创建索引的规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BE%83%E4%B8%BA%E9%A2%91%E7%B9%81%E7%9A%84%E4%BD%9C%E4%B8%BA-%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E7%9A%84-%E5%88%97%EF%BC%8C%E5%BA%94%E8%AF%A5%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%E3%80%82%E5%A6%82id"><span class="toc-number">13.13.</span> <span class="toc-text">1. 较为频繁的作为 查询条件的 列，应该创建索引。如id</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%94%AF%E4%B8%80%E6%80%A7%E5%A4%AA%E5%B7%AE%E7%9A%84-%E5%88%97-%E4%B8%8D%E5%BA%94%E8%AF%A5-%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95%E3%80%82-%E5%8D%B3%E4%BD%BF%E8%AF%A5%E5%88%97-%E9%A2%91%E7%B9%81%E4%BD%9C%E4%B8%BA%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6"><span class="toc-number">13.14.</span> <span class="toc-text">2. 唯一性太差的 列 不应该 设置索引。 即使该列 频繁作为查询条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%A2%91%E7%B9%81%E6%9B%B4%E6%96%B0%E7%9A%84%E5%88%97-%E4%B8%8D%E5%BA%94%E8%AF%A5%E8%AE%BE%E7%BD%AE%E4%B8%BA%E7%B4%A2%E5%BC%95"><span class="toc-number">13.15.</span> <span class="toc-text">3. 频繁更新的列 不应该设置为索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%B8%8D%E4%BC%9A%E4%BD%9C%E4%B8%BA-%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E7%9A%84-%E5%88%97-%E4%B8%8D%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">13.16.</span> <span class="toc-text">4. 不会作为 查询条件的 列 不设置索引</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E4%BA%8B%E5%8A%A1"><span class="toc-number">14.</span> <span class="toc-text">十四、事务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%90%AB%E4%B9%89%EF%BC%9A%E4%BA%8B%E5%8A%A1%E7%94%A8%E4%BA%8E%E4%BF%9D%E8%AF%81-%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%8C%E5%AE%83%E7%94%B1%E4%B8%80%E7%BB%84%E7%9A%84dml%E8%AF%AD%E5%8F%A5%E7%BB%84%E6%88%90%EF%BC%8C%E6%94%B9%E7%BB%84%E7%9A%84dml%E8%AF%AD%E5%8F%A5-%E8%A6%81%E4%B9%88%E5%85%A8%E9%83%A8%E6%88%90%E5%8A%9F%EF%BC%8C%E8%A6%81%E4%B9%88%E5%85%A8%E9%83%A8%E5%A4%B1%E8%B4%A5%E3%80%82"><span class="toc-number">14.1.</span> <span class="toc-text">(1) 含义：事务用于保证 数据的一致性，它由一组的dml语句组成，改组的dml语句 要么全部成功，要么全部失败。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%94%81%E7%9A%84%E5%90%AB%E4%B9%89%EF%BC%9A-%E5%BD%93%E5%A4%9A%E4%B8%AA%E7%94%A8%E6%88%B7%E6%93%8D%E4%BD%9C%E5%90%8C%E4%B8%80%E5%BC%A0%E8%A1%A8%E6%97%B6%EF%BC%8C%E9%94%81%E5%8F%AF%E4%BB%A5%E9%98%B2%E6%AD%A2%E5%85%B6%E5%AE%83%E7%94%A8%E6%88%B7%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%97%A2%E5%8F%AA%E8%83%BD%E8%AE%A9%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7%E6%93%8D%E4%BD%9C%E4%B8%80%E5%BC%A0%E8%A1%A8%E3%80%82"><span class="toc-number">14.2.</span> <span class="toc-text">(2) 锁的含义： 当多个用户操作同一张表时，锁可以防止其它用户修改表的数据，既只能让一个用户操作一张表。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">14.3.</span> <span class="toc-text">(3) 事务的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%E7%BB%86%E8%8A%82"><span class="toc-number">14.4.</span> <span class="toc-text">(4) 事务操作细节</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89-%E5%BC%80%E5%A7%8B%E4%BA%8B%E5%8A%A1%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8Cdml%E6%93%8D%E4%BD%9C%E6%98%AF-%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4%E7%9A%84%EF%BC%8C%E4%B8%8D%E8%83%BD%E5%9B%9E%E6%BB%9A%E3%80%82"><span class="toc-number">14.4.1.</span> <span class="toc-text">如果没有 开始事务，默认情况下，dml操作是 自动提交的，不能回滚。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#mysql-%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%9C%BA%E5%88%B6-%E9%9C%80%E8%A6%81-innodb%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E6%89%8D%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-%EF%BC%8C%E8%80%8C-myisam-%E5%BC%95%E6%93%8E%E4%B8%8D%E5%A5%BD%E4%BD%BF%E3%80%82"><span class="toc-number">14.4.2.</span> <span class="toc-text">mysql 的事务机制 需要 innodb的存储引擎才可以使用 ，而 myisam 引擎不好使。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BA%8B%E5%8A%A1%E7%9A%84%E8%AF%AD%E5%8F%A5%E6%9C%89%E4%B8%A4%E4%B8%AA-1-start-transaction-2-set-autocommit-off"><span class="toc-number">14.4.3.</span> <span class="toc-text">开始事务的语句有两个 1. start transaction 2. set autocommit&#x3D;off</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">14.5.</span> <span class="toc-text">(5) 事务隔离级别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%EF%BC%9A%E5%BD%93%E5%A4%9A%E4%B8%AA%E8%BF%9E%E6%8E%A5-%E5%BC%80%E5%90%AF%E5%90%84%E8%87%AA%E7%9A%84%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C-%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E6%97%B6%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F-%E9%9C%80%E8%A6%81%E8%B4%9F%E8%B4%A3-%E9%9A%94%E7%A6%BB%E6%93%8D%E4%BD%9C%EF%BC%8C%E4%BF%9D%E8%AF%81%E5%90%84%E4%B8%AA%E8%BF%9E%E6%8E%A5%E5%9C%A8%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E6%97%B6%E7%9A%84%E5%87%86%E7%A1%AE%E6%80%A7%E3%80%82"><span class="toc-number">14.6.</span> <span class="toc-text">介绍：当多个连接 开启各自的事务操作 数据库中的数据时，数据库系统 需要负责 隔离操作，保证各个连接在获取数据时的准确性。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E8%80%83%E8%99%91%E9%9A%94%E7%A6%BB%E6%80%A7%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">14.7.</span> <span class="toc-text">不考虑隔离性可能会出现的问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%84%8F%E8%AF%BB-dirty-read-%EF%BC%9A%E5%BD%93%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1-%E8%AF%BB%E5%8F%96%E5%88%B0%E4%BA%86-%E5%8F%A6%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1%E5%B0%9A%E6%9C%AA%E6%8F%90%E4%BA%A4%E7%9A%84%E4%BF%AE%E6%94%B9%E6%97%B6%EF%BC%8C%E5%B0%B1%E4%B8%BA%E8%84%8F%E8%AF%BB"><span class="toc-number">14.7.1.</span> <span class="toc-text">1. 脏读(dirty read)：当一个事务 读取到了 另一个事务尚未提交的修改时，就为脏读</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB-nonrepeatable-read-%E7%94%B1%E4%BA%8E-%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1-%E6%8F%90%E4%BA%A4%E4%BA%86-%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E7%9A%84-%E4%BF%AE%E6%94%B9%E6%88%96%E8%80%85%E5%88%A0%E9%99%A4-%E6%93%8D%E4%BD%9C%EF%BC%8C%E8%80%8C%E5%8F%A6%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1-%E5%A4%9A%E6%AC%A1%E6%9F%A5%E8%AF%A2%E4%BA%86%E8%AF%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%BA%86%E5%A4%9A%E6%AC%A1%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%E8%BF%99%E5%B0%B1%E4%B8%BA-%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E3%80%82"><span class="toc-number">14.7.2.</span> <span class="toc-text">2. 不可重复读(nonrepeatable read): 由于 其中一个事务 提交了 对数据进行的 修改或者删除 操作，而另一个事务 多次查询了该数据，返回了多次不一样的结果，这就为 不可重复读。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%B9%BB%E8%AF%BB-phantom-read-%E7%94%B1%E4%BA%8E-%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1-%E6%8F%90%E4%BA%A4%E4%BA%86-%E5%AF%B9%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E7%9A%84-%E5%A2%9E%E5%8A%A0-%E6%93%8D%E4%BD%9C%EF%BC%8C%E8%80%8C%E5%8F%A6%E4%B8%80%E4%B8%AA%E4%BA%8B%E5%8A%A1-%E5%A4%9A%E6%AC%A1%E6%9F%A5%E8%AF%A2%E4%BA%86%E8%AF%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%BA%86%E5%A4%9A%E6%AC%A1%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%8C%E8%BF%99%E5%B0%B1%E4%B8%BA-%E5%B9%BB%E8%AF%BB%E3%80%82"><span class="toc-number">14.7.3.</span> <span class="toc-text">3. 幻读(phantom read): 由于 其中一个事务 提交了 对数据进行的 增加 操作，而另一个事务 多次查询了该数据，返回了多次不一样的结果，这就为 幻读。</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">14.8.</span> <span class="toc-text">事务隔离级别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E6%93%8D%E4%BD%9C"><span class="toc-number">14.9.</span> <span class="toc-text">隔离级别操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9A-select-tx-isolation"><span class="toc-number">14.9.1.</span> <span class="toc-text">查看当前会话隔离级别： select @@tx_isolation</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E5%BD%93%E5%89%8D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9Aselect-global-tx-isolation"><span class="toc-number">14.9.2.</span> <span class="toc-text">查看系统当前隔离级别：select @@global.tx_isolation</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%BD%93%E5%89%8D%E4%BC%9A%E8%AF%9D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9Aset-session-transation-isolation-level-xx-%E6%97%A2%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AE%E7%9A%84-%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">14.9.3.</span> <span class="toc-text">设置当前会话隔离级别：set session transation isolation level xx(既需要设置的 隔离级别)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E5%BD%93%E5%89%8D%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%9A-set-global-transation-isolation-level-xx-%E6%97%A2%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AE%E7%9A%84-%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">14.9.4.</span> <span class="toc-text">设置系统当前隔离级别： set global transation isolation level xx(既需要设置的 隔离级别)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#mysql-%E7%9A%84-%E9%BB%98%E8%AE%A4%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB-%E6%98%AF-reoeatable-read-%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB-%E3%80%82%E5%8F%AF%E5%9C%A8mysql%E7%9A%84%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E4%B8%AD-%E7%9A%84-my-ini-%E6%96%87%E4%BB%B6-transaction-isolation-xx-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%9A%84-%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E3%80%82"><span class="toc-number">14.9.5.</span> <span class="toc-text">mysql 的 默认事务隔离级别 是 reoeatable read(可重复读) 。可在mysql的安装目录中 的 my.ini 文件 transaction-isolation &#x3D; xx 修改默认的 隔离级别。</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84-acid%E7%89%B9%E6%80%A7"><span class="toc-number">14.10.</span> <span class="toc-text">事务的 acid特性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%BA%94%E3%80%81%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">15.</span> <span class="toc-text">十五、存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">15.1.</span> <span class="toc-text">(1) 基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mysql-%E8%A1%A8%E7%B1%BB%E5%9E%8B-%E7%94%B1-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E5%86%B3%E5%AE%9A%EF%BC%8C%E4%B8%BB%E8%A6%81%E5%8C%85%E6%8B%AC%E6%9C%89Myisam%E3%80%81innodb%E3%80%81memory%E7%AD%89%E3%80%82"><span class="toc-number">15.2.</span> <span class="toc-text">mysql 表类型 由 存储引擎决定，主要包括有Myisam、innodb、memory等。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8-%E6%94%AF%E6%8C%81%E5%85%AD%E7%A7%8D%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%88%86%E5%88%AB%E4%B8%BACSV%E3%80%81Memory%E3%80%81ARCHIVE%E3%80%81MRG%E3%80%81MYISAM%E3%80%81innoDB%E3%80%82"><span class="toc-number">15.3.</span> <span class="toc-text">mysql数据库表 支持六种类型，分别为CSV、Memory、ARCHIVE、MRG、MYISAM、innoDB。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%99%E5%85%AD%E7%A7%8D%E7%B1%BB%E5%9E%8B%E5%8F%88%E5%8C%BA%E5%88%86%E4%B8%BA%E4%B8%A4%E7%B1%BB%EF%BC%8C%E4%B8%80%E7%B1%BB%E6%98%AF-%E2%80%9C%E4%BA%8B%E5%8A%A1%E5%AE%89%E5%85%A8%E5%9E%8B%E2%80%9D-%E5%A6%82-innoDB-%E5%8F%A6%E4%B8%80%E7%B1%BB%E5%88%99%E6%98%AF%E4%B8%BA-%E2%80%9C%E9%9D%9E%E4%BA%8B%E5%8A%A1%E5%AE%89%E5%85%A8%E5%9E%8B%E2%80%9D-%E5%85%B6%E4%BD%99%E7%9A%84%E8%A1%A8%E7%B1%BB%E5%9E%8B-%E9%83%BD%E6%98%AF%E8%AF%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">15.4.</span> <span class="toc-text">这六种类型又区分为两类，一类是 “事务安全型” 如 innoDB 另一类则是为 “非事务安全型” 其余的表类型 都是该类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">15.5.</span> <span class="toc-text">(2) 存储引擎的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%B8%89%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E4%BB%8B%E7%BB%8D"><span class="toc-number">15.6.</span> <span class="toc-text">(3) 三种主要的存储引擎介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MyISAM-%E4%B8%8D%E6%94%AF%E6%8C%81%E4%BA%8B%E5%8A%A1%E3%80%81%E5%A4%96%E9%94%AE%EF%BC%8C%E4%BD%86%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6%E5%BF%AB%EF%BC%8C%E5%AF%B9%E4%BA%8B%E5%8A%A1%E5%AE%8C%E6%95%B4%E6%80%A7%E6%B2%A1%E6%9C%89%E8%A6%81%E6%B1%82%E3%80%82"><span class="toc-number">15.7.</span> <span class="toc-text">MyISAM: 不支持事务、外键，但访问速度快，对事务完整性没有要求。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#InnoDB%EF%BC%9A%E6%8F%90%E4%BE%9B%E4%BA%86%E5%85%B7%E6%9C%89%E6%8F%90%E4%BA%A4%E3%80%81%E5%9B%9E%E6%BB%9A%E3%80%81%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D%E8%83%BD%E5%8A%9B%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%AE%89%E5%85%A8%E5%8A%9F%E8%83%BD%EF%BC%8C%E4%BD%86%E6%98%AF%E5%AF%B9%E6%AF%94-MyISAM-%E7%9A%84%E5%A4%84%E7%90%86%E6%95%88%E7%8E%87%E5%B7%AE%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BC%9A%E5%8D%A0%E7%94%A8%E6%9B%B4%E5%A4%9A%E7%9A%84%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4-%E7%94%A8%E6%9D%A5%E4%BF%9D%E5%AD%98-%E6%95%B0%E6%8D%AE-%E5%92%8C-%E7%B4%A2%E5%BC%95%E3%80%82"><span class="toc-number">15.8.</span> <span class="toc-text">InnoDB：提供了具有提交、回滚、崩溃恢复能力的事务安全功能，但是对比 MyISAM 的处理效率差，并且会占用更多的磁盘空间 用来保存 数据 和 索引。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MEMORY-%E4%BD%BF%E7%94%A8-%E5%86%85%E5%AD%98-%E6%9D%A5%E5%88%9B%E5%BB%BA%E8%A1%A8%EF%BC%8C%E6%AF%8F%E4%B8%AA-memory%E8%A1%A8%E5%AE%9E%E9%99%85%E5%AF%B9%E5%BA%94%E4%B8%80%E4%B8%AA%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E3%80%82-%E5%AF%B9%E4%BA%8E%E8%A1%A8%E7%9A%84%E8%AE%BF%E9%97%AE-%E9%9D%9E%E5%B8%B8%E5%BE%97%E5%BF%AB%EF%BC%8C%E5%9B%A0%E4%B8%BA%E6%95%B0%E6%8D%AE%E6%98%AF%E6%94%BE%E5%9C%A8-%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%EF%BC%8C%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8-HASH%E7%B4%A2%E5%BC%95%E3%80%82-%E4%B8%80%E6%97%A6mysql%E6%9C%8D%E5%8A%A1%E5%85%B3%E9%97%AD%EF%BC%8C%E9%82%A3%E4%B9%88%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%B0%B1%E4%BC%9A%E5%85%A8%E9%83%A8%E4%B8%A2%E5%A4%B1%EF%BC%8C%E4%BD%86%E6%98%AF%E8%A1%A8%E7%BB%93%E6%9E%84%E8%BF%98%E5%9C%A8%E3%80%82"><span class="toc-number">15.9.</span> <span class="toc-text">MEMORY: 使用 内存 来创建表，每个 memory表实际对应一个磁盘文件。 对于表的访问 非常得快，因为数据是放在 内存中的，默认使用 HASH索引。 一旦mysql服务关闭，那么表的数据就会全部丢失，但是表结构还在。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">15.10.</span> <span class="toc-text">(4) 如何选择存储引擎</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%BA%94%E7%94%A8%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%8A%9F%E8%83%BD-%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-MyISAM-%E3%80%82%E8%8B%A5%E9%9C%80%E8%A6%81-%E5%88%99%E7%94%A8-innoDB"><span class="toc-number">15.11.</span> <span class="toc-text">如果应用不需要事务的功能 ，就可以使用 MyISAM 。若需要 则用 innoDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E-%E6%95%B0%E6%8D%AE%E7%BB%8F%E5%B8%B8%E4%BA%A7%E7%94%9F%E5%8F%98%E5%8C%96%EF%BC%8C%E5%B9%B6%E4%B8%94-%E8%AF%A5%E6%95%B0%E6%8D%AE%E6%B2%A1%E6%9C%89%E4%BF%9D%E5%AD%98%E7%9A%84%E6%84%8F%E4%B9%89%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E9%80%89%E6%8B%A9-MEMORY"><span class="toc-number">15.12.</span> <span class="toc-text">对于 数据经常产生变化，并且 该数据没有保存的意义时，就可以选择 MEMORY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%BC%95%E6%93%8E%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">15.13.</span> <span class="toc-text">(5) 引擎基本操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E3%80%81%E8%A7%86%E5%9B%BE"><span class="toc-number">16.</span> <span class="toc-text">十六、视图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%90%AB%E4%B9%89%EF%BC%9A%E8%A7%86%E5%9B%BE-%E6%98%AF%E4%B8%80%E4%B8%AA%E8%99%9A%E6%8B%9F%E8%A1%A8%EF%BC%8C%E5%85%B6%E5%86%85%E5%AE%B9%E6%98%AF%E6%A0%B9%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%AE%9A%E4%B9%89%E7%9A%84%E3%80%82%E5%90%8C%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%A1%A8%E4%B8%80%E6%A0%B7%EF%BC%8C%E8%A7%86%E5%9B%BE%E4%B8%AD%E7%9A%84%E5%88%97-%E5%9D%87%E6%9D%A5%E8%87%AA%E4%BA%8E-%E5%AF%B9%E5%BA%94%E7%9A%84%E7%9C%9F%E5%AE%9E%E8%A1%A8%EF%BC%88%E5%9F%BA%E8%A1%A8%EF%BC%89%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82"><span class="toc-number">16.1.</span> <span class="toc-text">(1) 含义：视图 是一个虚拟表，其内容是根据查询定义的。同真实的表一样，视图中的列 均来自于 对应的真实表（基表）的数据。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%A7%86%E5%9B%BE%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">16.2.</span> <span class="toc-text">(2) 视图基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82"><span class="toc-number">16.3.</span> <span class="toc-text">(3) 使用细节</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE%E5%90%8E%EF%BC%8C%E5%9C%A8mysql-%E5%AD%98%E6%94%BE%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E8%A7%86%E5%9B%BE%E5%8F%AA%E6%9C%89-%E8%A7%86%E5%9B%BE%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6-%E8%A7%86%E5%9B%BE%E5%90%8D-frm"><span class="toc-number">16.4.</span> <span class="toc-text">创建视图后，在mysql 存放数据库的文件中，可以看到视图只有 视图结构文件(视图名.frm)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E8%A7%86%E5%9B%BE%E7%9A%84%E6%95%B0%E6%8D%AE-%E5%B0%B1%E4%BC%9A%E6%94%B9%E5%8F%98%E5%9F%BA%E8%A1%A8%E7%9A%84-%E6%95%B0%E6%8D%AE%E3%80%82-%E5%9F%BA%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE-%E8%87%AA%E7%84%B6%E4%BC%9A%E5%BD%B1%E5%93%8D%E5%88%B0-%E8%A7%86%E5%9B%BE%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">16.5.</span> <span class="toc-text">改变视图的数据 就会改变基表的 数据。 基表的数据 自然会影响到 视图的数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE-%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%9C%E4%B8%BA-%E5%9F%BA%E8%A1%A8%EF%BC%8C%E6%97%A2-%E8%A7%86%E5%9B%BE%E4%B8%AD-%E5%8F%AF%E4%BB%A5%E5%86%8D%E4%BD%BF%E7%94%A8-%E8%A7%86%E5%9B%BE"><span class="toc-number">16.6.</span> <span class="toc-text">视图 也可以作为 基表，既 视图中 可以再使用 视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%A7%86%E5%9B%BE%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">16.7.</span> <span class="toc-text">(4) 视图的最佳实践</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%EF%BC%9A%E8%A7%86%E5%9B%BE%E5%8F%AF%E4%BB%A5%E6%9C%89%E6%95%88%E5%B8%AE%E5%8A%A9-%E5%9F%BA%E8%A1%A8%E4%BF%9D%E5%AF%86%E6%9F%90%E4%BA%9B%E5%AD%97%E6%AE%B5%EF%BC%8C%E5%85%AC%E5%BC%80%E7%9A%84%E5%AD%97%E6%AE%B5-%E7%9B%B4%E6%8E%A5%E5%9C%A8%E8%A7%86%E5%9B%BE%E6%98%BE%E7%A4%BA%E5%8D%B3%E5%8F%AF%EF%BC%8C%E5%B0%B1%E4%B8%8D%E7%94%A8%E6%9F%A5%E7%9C%8B%E5%88%B0%E5%9F%BA%E8%A1%A8%E4%BA%86%E3%80%82"><span class="toc-number">16.8.</span> <span class="toc-text">安全：视图可以有效帮助 基表保密某些字段，公开的字段 直接在视图显示即可，就不用查看到基表了。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%EF%BC%9A%E8%8B%A5%E9%9C%80%E8%A6%81-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%BE%80%E5%BE%80%E4%BC%9A%E8%BF%9B%E8%A1%8C%E5%88%86%E8%A1%A8%E6%9F%A5%E8%AF%A2%EF%BC%8C%E5%88%9B%E5%BB%BA%E5%A4%96%E9%94%AE%E5%BB%BA%E7%AB%8B%E8%81%94%E7%B3%BB%E7%AD%89%E6%93%8D%E4%BD%9C%EF%BC%8C%E8%BF%99%E6%A0%B7%E9%BA%BB%E7%83%A6%E8%80%8C%E4%B8%94%E6%95%88%E7%8E%87%E4%BD%8E%E3%80%82%E8%BF%99%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87-%E8%A7%86%E5%9B%BE-%E6%8A%8A%E9%9C%80%E8%A6%81%E7%9A%84%E5%88%97%E7%BB%84%E5%90%88%E5%9C%A8-%E4%B8%80%E8%B5%B7%E5%B0%B1%E5%8F%AF%E4%BB%A5-%E9%80%9A%E8%BF%87%E4%B8%80%E5%BC%A0%E8%A7%86%E5%9B%BE%E5%B0%B1%E8%83%BD%E6%9F%A5%E8%AF%A2%E6%83%B3%E8%A6%81%E7%9A%84%E4%BF%A1%E6%81%AF%E4%BA%86%E3%80%82"><span class="toc-number">16.9.</span> <span class="toc-text">性能：若需要 多表查询的时候，往往会进行分表查询，创建外键建立联系等操作，这样麻烦而且效率低。这时，就可以通过 视图 把需要的列组合在 一起就可以 通过一张视图就能查询想要的信息了。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%81%B5%E6%B4%BB%EF%BC%9A%E8%8B%A5%E6%9C%89%E4%B8%80%E5%BC%A0-%E6%97%A7%E8%A1%A8%EF%BC%8C%E5%8D%B3%E5%B0%86%E5%BA%9F%E5%BC%83%EF%BC%8C%E4%BD%86%E6%98%AF%E8%AF%A5%E8%A1%A8-%E6%B6%89%E5%8F%8A%E5%88%B0%E5%BE%88%E5%A4%9A-%E5%85%B6%E5%AE%83%E8%A1%A8%EF%BC%8C%E4%B8%8D%E4%BE%BF%E4%BA%8E%E5%88%A0%E9%99%A4%E4%B8%8E%E4%BF%AE%E6%94%B9%E3%80%82%E8%BF%99%E6%97%B6%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-%E8%A7%86%E5%9B%BE%E6%9D%A5-%E6%98%A0%E5%B0%84%E5%88%B0%E7%9B%B8%E5%85%B3%E7%9A%84-%E6%95%B0%E6%8D%AE%EF%BC%88%E6%97%A2-%E6%97%A7%E8%A1%A8%E4%B8%8E%E5%85%B6%E5%AE%83%E8%A1%A8%E8%AE%BE%E8%AE%A1%E7%9A%84%E5%88%97%EF%BC%89%E3%80%82%E8%BF%99%E6%A0%B7-%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%B8%8D%E9%9C%80%E8%A6%81%E6%94%B9%E5%8F%98%E6%97%A7%E8%A1%A8-%E4%B9%9F%E8%83%BD%E5%AE%9E%E7%8E%B0-%E5%88%9B%E5%BB%BA%E6%96%B0%E8%A1%A8%E7%9A%84%E6%95%88%E6%9E%9C%E3%80%82"><span class="toc-number">16.10.</span> <span class="toc-text">灵活：若有一张 旧表，即将废弃，但是该表 涉及到很多 其它表，不便于删除与修改。这时，就可以使用 视图来 映射到相关的 数据（既 旧表与其它表设计的列）。这样 就可以不需要改变旧表 也能实现 创建新表的效果。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%83%E3%80%81mysql%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">17.</span> <span class="toc-text">十七、mysql用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D%EF%BC%9Amysql%E4%B8%AD%E7%9A%84%E7%94%A8%E6%88%B7%EF%BC%8C%E9%83%BD%E5%AD%98%E5%82%A8%E5%9C%A8-%E6%95%B0%E6%8D%AE%E5%BA%93mysql%E4%B8%AD%E7%9A%84-user%E8%A1%A8%E4%B8%AD%E3%80%82-%E8%AF%A5%E8%A1%A8%E4%B8%BB%E8%A6%81%E6%9C%89%E4%B8%89%E4%B8%AA%E5%AD%97%E6%AE%B5-host-%E5%85%81%E8%AE%B8%E7%99%BB%E5%BD%95%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E6%97%A2ip%E5%8F%B7%EF%BC%8Cuser%EF%BC%9A%E7%94%A8%E6%88%B7%E5%90%8D%EF%BC%8Cauthentication-string-%EF%BC%9A%E7%94%A8password-%E5%87%BD%E6%95%B0%E5%8A%A0%E5%AF%86%E8%BF%87%E7%9A%84-%E5%AF%86%E7%A0%81%E3%80%82"><span class="toc-number">17.1.</span> <span class="toc-text">(1) 基本介绍：mysql中的用户，都存储在 数据库mysql中的 user表中。 该表主要有三个字段, host: 允许登录的位置，既ip号，user：用户名，authentication_string ：用password()函数加密过的 密码。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%94%A8%E6%88%B7%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">17.2.</span> <span class="toc-text">(2) 用户基本操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E8%AE%BE%E7%BD%AE"><span class="toc-number">17.3.</span> <span class="toc-text">(3) 用户权限设置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E8%AE%BE%E7%BD%AE"><span class="toc-number">17.3.1.</span> <span class="toc-text">语法设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E6%93%8D%E4%BD%9C"><span class="toc-number">17.3.2.</span> <span class="toc-text">权限操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82"><span class="toc-number">17.4.</span> <span class="toc-text">(4) 使用细节</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%8D%E6%8C%87%E5%AE%9A-host%EF%BC%8C%E5%88%99%E4%B8%BA-%EF%BC%8C-%E8%A1%A8%E7%A4%BA%E6%89%80%E6%9C%89-ip%E9%83%BD%E6%9C%89%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%9D%83%E9%99%90%E3%80%82"><span class="toc-number">17.5.</span> <span class="toc-text">在创建用户的时候，如果不指定 host，则为% ，%表示所有 ip都有连接的权限。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E7%9A%84%E8%AF%AD%E5%8F%A5%E4%B8%AD-create-user-%E2%80%98xxx%E2%80%98-%E2%80%99192-168-1-%E2%80%99-%E8%A1%A8%E7%A4%BA%E8%AF%A5%E7%94%A8%E6%88%B7-%E5%8F%AF%E4%BB%A5%E5%9C%A8-192-168-1-%E7%9A%84ip%E5%8F%AF%E4%BB%A5%E7%9A%84%E7%99%BB%E9%99%86%E3%80%82"><span class="toc-number">17.6.</span> <span class="toc-text">创建用户的语句中 create user ‘xxx‘@’192.168.1.%’ 表示该用户 可以在 192.168.1.* 的ip可以的登陆。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E6%97%B6%EF%BC%8C%E5%A6%82%E6%9E%9C-host-%E4%B8%8D%E6%98%AF-%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E6%98%8E%E7%A1%AE%E4%BF%A1%E6%81%AF-%E2%80%98%E7%94%A8%E6%88%B7%E2%80%98-%E2%80%99host%E5%80%BC%E2%80%99"><span class="toc-number">17.7.</span> <span class="toc-text">删除用户时，如果 host 不是 %，则需要明确信息 ‘用户‘@’host值’</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/20221/03/06/%E6%A1%86%E6%9E%B6%E6%8A%80%E6%9C%AF/SpringBoot%20%E6%95%B4%E5%90%88%20MybatisPlus/" title="springBoot整合MybatisPlus">springBoot整合MybatisPlus</a><time datetime="+020221-03-06T03:57:36.000Z" title="发表于 20221-03-06 11:57:36">20221-03-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/20/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95%E9%A2%98/" title="无题">无题</a><time datetime="2023-09-20T07:18:43.613Z" title="发表于 2023-09-20 15:18:43">2023-09-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/20/%E9%9D%A2%E8%AF%95%E9%A2%98/Java%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%88Java%E8%AF%AD%E8%A8%8001%EF%BC%89/" title="无题">无题</a><time datetime="2023-09-20T07:18:43.607Z" title="发表于 2023-09-20 15:18:43">2023-09-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/07/Java%E5%A4%8D%E4%B9%A0/java8%E6%96%B0%E7%89%B9%E6%80%A7/" title="java8新特性">java8新特性</a><time datetime="2022-06-07T03:57:36.000Z" title="发表于 2022-06-07 11:57:36">2022-06-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2021/11/16/Java%E5%A4%8D%E4%B9%A0/Java%E5%A4%8D%E4%B9%A0-3/" title="Java复习3">Java复习3</a><time datetime="2021-11-16T03:57:36.000Z" title="发表于 2021-11-16 11:57:36">2021-11-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By jackCoding</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>